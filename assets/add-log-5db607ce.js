import{k as f,u as b,c2 as B,d as w,l as _,c3 as v,_ as C,f as E,o as F,h as L,w as l,i as a,b as c,p as Q,N as V,I as D,E as S}from"./index-22d7fef2.js";/* empty css             */import{a as N,E as k}from"./form-item-32b74ae5.js";const I=()=>{const e=[{label:"账号名",props:[{prop:"name"}]},{label:"问题信息",props:[{prop:"info"}]},{label:"问题地址",props:[{type:"href",prop:"url",data:{prop:"url",style:{fontWeight:"bold"}}}]},{label:"问题详情",props:[{prop:"error"}]},{label:"问题时间",props:[{prop:"time"}]},{label:"问题类型",props:[{prop:"type"}]}],o=f({value:0,operates:[{label:"上传",value:0}]}),s=b(),n=s.getters.getBugs,u=f({url:"",info:"",error:"",type:"Info",name:s.state.user.userInfo.username,time:B(new Date)});return{listQuery:f({pageNum:1,pageSize:10}),header:e,operateData:o,addQuery:u,sList:n}},O=w({setup(){const{header:e,operateData:o,sList:s,addQuery:n,listQuery:u}=I(),h=b(),i=_(0),r=_([]),t=d=>{Object.assign(u,d||{}),v(u).then(m=>{r.value=m.data.list,i.value=m.data.total})};return t(),{list:r,sList:s,operateData:o,addQuery:n,total:i,handleBatchChange:()=>{console.log("上传")},addLog:()=>{h.commit("setErrorLog",JSON.parse(JSON.stringify(n)))},getList:t,header:e}}}),$={style:{margin:"15px 0"}},z={class:"screenForm"},T=c("div",{style:{margin:"15px 0"}},"新问题",-1),U=c("div",{style:{margin:"15px 0"}},"历史问题",-1);function J(e,o,s,n,u,h){const i=E("view-name"),r=V,t=N,g=D,y=k,d=E("powerful-table"),m=S;return F(),L(m,{shadow:e.defaultData.cardShadow},{default:l(()=>[a(i),c("div",$,[a(y,{inline:!0,model:e.addQuery},{default:l(()=>[c("div",z,[a(t,null,{default:l(()=>[a(r,{modelValue:e.addQuery.info,"onUpdate:modelValue":o[0]||(o[0]=p=>e.addQuery.info=p),placeholder:"请输入问题信息",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),a(t,{prop:"url"},{default:l(()=>[a(r,{modelValue:e.addQuery.url,"onUpdate:modelValue":o[1]||(o[1]=p=>e.addQuery.url=p),placeholder:"请输入问题地址",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),a(t,{prop:"error"},{default:l(()=>[a(r,{modelValue:e.addQuery.error,"onUpdate:modelValue":o[2]||(o[2]=p=>e.addQuery.error=p),placeholder:"请输入问题详情",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),a(t,null,{default:l(()=>[a(g,{type:"primary",onClick:e.addLog},{default:l(()=>[Q("提交")]),_:1},8,["onClick"])]),_:1})])]),_:1},8,["model"])]),T,a(d,{list:e.sList,header:e.header,isPagination:!1,isSelect:"",operateData:e.operateData,onBatchOperate:e.handleBatchChange},null,8,["list","header","operateData","onBatchOperate"]),U,a(d,{ref:"Table",list:e.list,header:e.header,total:e.total,onSizeChange:e.getList},null,8,["list","header","total","onSizeChange"])]),_:1},8,["shadow"])}const W=C(O,[["render",J]]);export{W as default};
