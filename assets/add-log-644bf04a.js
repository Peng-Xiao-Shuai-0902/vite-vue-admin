import{q as f,u as E,a as b,Y as B,d as L,r as _,Z as S,_ as w,e as C,o as F,x as Q,w as l,g as a,k as h,j as V,i as v,p as D,l as N,E as k}from"./index-234e01e2.js";/* empty css             */import{E as O,a as $}from"./form-item-f484cdec.js";const I=()=>{const e=[{label:"账号名",props:[{prop:"name"}]},{label:"问题信息",props:[{prop:"info"}]},{label:"问题地址",props:[{type:"href",prop:"url",data:{prop:"url",style:{fontWeight:"bold"}}}]},{label:"问题详情",props:[{prop:"error"}]},{label:"问题时间",props:[{prop:"time"}]},{label:"问题类型",props:[{prop:"type"}]}],o=f({value:0,operates:[{label:"上传",value:0}]}),i=E(),s=b(),n=i.errorLog,m=f({url:"",info:"",error:"",type:"Info",name:s.userInfo.username,time:B(new Date)});return{listQuery:f({pageNum:1,pageSize:10}),header:e,operateData:o,addQuery:m,sList:n}},U=L({setup(){const{header:e,operateData:o,sList:i,addQuery:s,listQuery:n}=I(),m=E(),u=_(0),r=_([]),t=d=>{Object.assign(n,d||{}),S(n).then(c=>{r.value=c.data.data.list,u.value=c.data.data.total})};return t(),{list:r,sList:i,operateData:o,addQuery:s,total:u,handleBatchChange:()=>{console.log("上传")},addLog:()=>{m.errorLog.push(JSON.parse(JSON.stringify(s)))},getList:t,header:e}}}),z={style:{margin:"15px 0"}},T={class:"screenForm"},j=h("div",{style:{margin:"15px 0"}},"新问题",-1),J=h("div",{style:{margin:"15px 0"}},"历史问题",-1);function q(e,o,i,s,n,m){const u=v,r=D,t=O,g=N,y=$,d=C("powerful-table"),c=k;return F(),Q(c,{shadow:e.defaultData.cardShadow},{default:l(()=>[a(u),h("div",z,[a(y,{inline:!0,model:e.addQuery},{default:l(()=>[h("div",T,[a(t,null,{default:l(()=>[a(r,{modelValue:e.addQuery.info,"onUpdate:modelValue":o[0]||(o[0]=p=>e.addQuery.info=p),placeholder:"请输入问题信息",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),a(t,{prop:"url"},{default:l(()=>[a(r,{modelValue:e.addQuery.url,"onUpdate:modelValue":o[1]||(o[1]=p=>e.addQuery.url=p),placeholder:"请输入问题地址",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),a(t,{prop:"error"},{default:l(()=>[a(r,{modelValue:e.addQuery.error,"onUpdate:modelValue":o[2]||(o[2]=p=>e.addQuery.error=p),placeholder:"请输入问题详情",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),a(t,null,{default:l(()=>[a(g,{type:"primary",onClick:e.addLog},{default:l(()=>[V("提交")]),_:1},8,["onClick"])]),_:1})])]),_:1},8,["model"])]),j,a(d,{list:e.sList,header:e.header,isPagination:!1,isSelect:"",operateData:e.operateData,onBatchOperate:e.handleBatchChange},null,8,["list","header","operateData","onBatchOperate"]),J,a(d,{ref:"Table",list:e.list,header:e.header,total:e.total,onSizeChange:e.getList},null,8,["list","header","total","onSizeChange"])]),_:1},8,["shadow"])}const Y=w(U,[["render",q]]);export{Y as default};
