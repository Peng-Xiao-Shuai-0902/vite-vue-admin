import{k as f,u as b,O as B,c2 as w,d as L,l as _,c3 as S,_ as v,f as E,o as C,h as F,w as l,i as a,b as h,p as Q,N as V,I as D,E as N}from"./index-8a86c71c.js";/* empty css             */import{a as O,E as k}from"./form-item-060b1910.js";const I=()=>{const e=[{label:"账号名",props:[{prop:"name"}]},{label:"问题信息",props:[{prop:"info"}]},{label:"问题地址",props:[{type:"href",prop:"url",data:{prop:"url",style:{fontWeight:"bold"}}}]},{label:"问题详情",props:[{prop:"error"}]},{label:"问题时间",props:[{prop:"time"}]},{label:"问题类型",props:[{prop:"type"}]}],o=f({value:0,operates:[{label:"上传",value:0}]}),i=b(),s=B(),n=i.errorLog,m=f({url:"",info:"",error:"",type:"Info",name:s.userInfo.username,time:w(new Date)});return{listQuery:f({pageNum:1,pageSize:10}),header:e,operateData:o,addQuery:m,sList:n}},U=L({setup(){const{header:e,operateData:o,sList:i,addQuery:s,listQuery:n}=I(),m=b(),u=_(0),r=_([]),t=d=>{Object.assign(n,d||{}),S(n).then(c=>{r.value=c.data.list,u.value=c.data.total})};return t(),{list:r,sList:i,operateData:o,addQuery:s,total:u,handleBatchChange:()=>{console.log("上传")},addLog:()=>{m.errorLog.push(JSON.parse(JSON.stringify(s)))},getList:t,header:e}}}),$={style:{margin:"15px 0"}},z={class:"screenForm"},T=h("div",{style:{margin:"15px 0"}},"新问题",-1),J=h("div",{style:{margin:"15px 0"}},"历史问题",-1);function j(e,o,i,s,n,m){const u=E("view-name"),r=V,t=O,g=D,y=k,d=E("powerful-table"),c=N;return C(),F(c,{shadow:e.defaultData.cardShadow},{default:l(()=>[a(u),h("div",$,[a(y,{inline:!0,model:e.addQuery},{default:l(()=>[h("div",z,[a(t,null,{default:l(()=>[a(r,{modelValue:e.addQuery.info,"onUpdate:modelValue":o[0]||(o[0]=p=>e.addQuery.info=p),placeholder:"请输入问题信息",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),a(t,{prop:"url"},{default:l(()=>[a(r,{modelValue:e.addQuery.url,"onUpdate:modelValue":o[1]||(o[1]=p=>e.addQuery.url=p),placeholder:"请输入问题地址",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),a(t,{prop:"error"},{default:l(()=>[a(r,{modelValue:e.addQuery.error,"onUpdate:modelValue":o[2]||(o[2]=p=>e.addQuery.error=p),placeholder:"请输入问题详情",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),a(t,null,{default:l(()=>[a(g,{type:"primary",onClick:e.addLog},{default:l(()=>[Q("提交")]),_:1},8,["onClick"])]),_:1})])]),_:1},8,["model"])]),T,a(d,{list:e.sList,header:e.header,isPagination:!1,isSelect:"",operateData:e.operateData,onBatchOperate:e.handleBatchChange},null,8,["list","header","operateData","onBatchOperate"]),J,a(d,{ref:"Table",list:e.list,header:e.header,total:e.total,onSizeChange:e.getList},null,8,["list","header","total","onSizeChange"])]),_:1},8,["shadow"])}const q=v(U,[["render",j]]);export{q as default};
