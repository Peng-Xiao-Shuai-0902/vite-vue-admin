import{p as e,g as a}from"./index.2a4ddc7d.js";import{_ as l,d as r,u as t,E as o,J as d,r as s,o as n,l as p,w as u,a as i,i as m,L as c}from"./vendor.85146a32.js";const f=[{label:"账号名",props:[{prop:"name"}]},{label:"问题信息",props:[{prop:"info"}]},{label:"问题地址",props:[{type:"href",prop:"url",data:{prop:"url",style:{fontWeight:"bold"}}}]},{label:"问题详情",props:[{prop:"error"}]},{label:"问题时间",props:[{prop:"time"}]},{label:"问题类型",props:[{prop:"type"}]}],g=r({name:"error-log",setup(l,r){const s=t(),n=o(0),p=o([]),u=s.getters.getBugs,i=d({pageNum:1,pageSize:10}),m=d({value:0,operates:[{label:"上传",value:0}]}),c=d({url:"",info:"",error:"",type:"Info",name:s.state.user.userInfo.username,time:e(new Date)}),g=e=>{Object.assign(i,e||{}),a(i).then((e=>{p.value=e.data.list,n.value=e.data.total}))};g();return{list:p,sList:u,operateData:m,addQuery:c,total:n,handleBatchChange:e=>{console.log("上传")},addLog:()=>{s.commit("setErrorLog",JSON.parse(JSON.stringify(c)))},getList:g,config:f}}}),h={style:{margin:"15px 0"}},y={class:"screenForm"},b=c("提交"),v=m("div",{style:{margin:"15px 0"}},"新问题",-1),w=m("div",{style:{margin:"15px 0"}},"历史问题",-1);var V=l(g,[["render",function(e,a,l,r,t,o){const d=s("view-name"),c=s("el-input"),f=s("el-form-item"),g=s("el-button"),V=s("el-form"),L=s("powerful-table"),Q=s("el-card");return n(),p(Q,{shadow:e.defaultData.cardShadow},{default:u((()=>[i(d),m("div",h,[i(V,{inline:!0,model:e.addQuery},{default:u((()=>[m("div",y,[i(f,null,{default:u((()=>[i(c,{modelValue:e.addQuery.info,"onUpdate:modelValue":a[0]||(a[0]=a=>e.addQuery.info=a),placeholder:"请输入问题信息",style:{width:"80%"},clearable:""},null,8,["modelValue"])])),_:1}),i(f,{prop:"url"},{default:u((()=>[i(c,{modelValue:e.addQuery.url,"onUpdate:modelValue":a[1]||(a[1]=a=>e.addQuery.url=a),placeholder:"请输入问题地址",style:{width:"80%"},clearable:""},null,8,["modelValue"])])),_:1}),i(f,{prop:"error"},{default:u((()=>[i(c,{modelValue:e.addQuery.error,"onUpdate:modelValue":a[2]||(a[2]=a=>e.addQuery.error=a),placeholder:"请输入问题详情",style:{width:"80%"},clearable:""},null,8,["modelValue"])])),_:1}),i(f,null,{default:u((()=>[i(g,{type:"primary",onClick:e.addLog},{default:u((()=>[b])),_:1},8,["onClick"])])),_:1})])])),_:1},8,["model"])]),v,i(L,{list:e.sList,header:e.config,isPagination:!1,isSelect:"",operateData:e.operateData,onBatchOperate:e.handleBatchChange},null,8,["list","header","operateData","onBatchOperate"]),w,i(L,{ref:"Table",list:e.list,header:e.config,total:e.total,onSizeChange:e.getList},null,8,["list","header","total","onSizeChange"])])),_:1},8,["shadow"])}]]);export default V;
