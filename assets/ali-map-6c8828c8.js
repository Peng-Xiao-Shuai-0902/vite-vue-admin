import{d as g,C as v,k as b,o as x,a as h,b as m,i as n,w as r,p as c,t as p,R as M,S as w,_ as k}from"./index-22d7fef2.js";import{E as y}from"./text-1854153d.js";import{A,u as S}from"./index-29498fad.js";const C=d=>(M("data-v-738b683b"),d=d(),w(),d),I={class:"map-marker"},B={class:"info-box"},E=C(()=>m("div",{id:"map"},null,-1)),N=g({__name:"ali-map",setup(d){const{name:u}=v(),e=b({lng:116.397428,lat:39.90923,address:"北京市东城区东华门街道天安门"});let a,i,t;return A.load({key:"d44819a368d76ea619971a50854f19b9",version:"2.0",plugins:["AMap.Geocoder"]}).then(_=>{const s=_;a=new s.Map("map",{center:[e.lng,e.lat],zoom:12}),i=new s.Geocoder,t=new s.Marker({position:a.getCenter(),offset:new s.Pixel(-26,-61),icon:"//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-default.png",draggable:!0,cursor:"move"}),t.setMap(a),t.on("dragend",({lnglat:o})=>{e.lng=o.lng,e.lat=o.lat,i.getAddress(o,function(f,l){f==="complete"&&l.regeocode?e.address=l.regeocode.formattedAddress:console.error("根据经纬度查询地址失败")})})}),S(u,()=>{a==null||a.destroy(),t==null||t.remove()}),(_,s)=>{const o=y;return x(),h("div",I,[m("div",B,[n(o,{tag:"div"},{default:r(()=>[c("经度："+p(e.lng),1)]),_:1}),n(o,{tag:"div"},{default:r(()=>[c("纬度："+p(e.lat),1)]),_:1}),n(o,{tag:"div"},{default:r(()=>[c("地址："+p(e.address),1)]),_:1})]),E])}}});const T=k(N,[["__scopeId","data-v-738b683b"]]);export{T as default};
