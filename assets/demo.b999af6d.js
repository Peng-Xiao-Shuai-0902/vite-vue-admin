import{_ as A,d as C,e as B,u as $,y as E,r as v,N as w,o as a,l as u,w as s,i,t as g,a as n,c as k,m as d,k as l,I as e}from"./vendor.8c3eb18c.js";const D=C({setup(o,{emit:c}){var m;const _=B(),p=$(),f=((m=p.state.user.userInfo)==null?void 0:m.name)||E("admin"),h=r=>p.state.user.userInfo[r],t=E(0);return{key:t,checket:f,userInfo:h,switchUser:r=>{f.value=r,p.commit("setToken",r+"-token"),p.commit("tagsRefresh"),_.getRoutes().forEach(y=>{y.meta&&y.meta.id&&_.removeRoute(y.name)}),p.dispatch("userInfo").then(()=>{t.value+=1})}}}}),z=e("\u5F53\u524D\u7528\u6237\u6743\u9650\uFF1A"),I={style:{color:"var(--color-primary)"}},b=e("admin"),N=e("ordinary"),U=e("test"),R=i("div",{class:"tipBox"},[e(" \u5355\u4E2A\u9A8C\u8BC1\uFF08\u6307\u4EE4\uFF09 "),i("div",{style:{"font-size":"13px",color:"var(--el-color-info)"}},`v-permission="['admin']"`)],-1),V=e("['admin']"),S=e("['ordinary']"),T=e(`"'test'"`),j=i("div",{class:"tipBox"},[e(" \u591A\u4E2A\u9A8C\u8BC1\uFF08\u6307\u4EE4\uFF0C\u6EE1\u8DB3\u4E00\u4E2A\u663E\u793A\uFF09 "),i("div",{style:{"font-size":"13px",color:"var(--el-color-info)"}},`v-permission="['admin','ordinary']"`)],-1),q=e("['admin','ordinary']"),G=e("['ordinary','test']"),H=e("['admin','test']"),J=i("div",{class:"tipBox"},[e(" \u591A\u4E2A\u9A8C\u8BC1\uFF08\u6307\u4EE4\uFF0C\u6EE1\u8DB3\u5168\u90E8\u663E\u793A\uFF09 "),i("div",{style:{"font-size":"13px",color:"var(--el-color-info)"}},`v-permission:all="['admin','ordinary']"`)],-1),K=e("['admin','ordinary']"),L=e("['ordinary','test']"),M=e("['admin','test']"),O=i("div",{class:"tipBox"},[e(" \u5355\u4E2A\u9A8C\u8BC1\uFF08\u51FD\u6570\uFF09 "),i("div",{style:{"font-size":"13px",color:"var(--el-color-info)"}},`v-if="$permission(['admin'])"`)],-1),P=e("['admin']"),Q=e("['ordinary']"),W=e(`"'test'"`),X=i("div",{class:"tipBox"},[e(" \u591A\u4E2A\u9A8C\u8BC1\uFF08\u51FD\u6570\uFF0C\u6EE1\u8DB3\u4E00\u4E2A\u663E\u793A\uFF09 "),i("div",{style:{"font-size":"13px",color:"var(--el-color-info)"}},`v-if="$permission(['admin','ordinary'])"`)],-1),Y=e("['admin','ordinary']"),Z=e("['ordinary','test']"),x=e("['admin','test']"),ee=i("div",{class:"tipBox"},[e(" \u591A\u4E2A\u9A8C\u8BC1\uFF08\u51FD\u6570\uFF0C\u6EE1\u8DB3\u5168\u90E8\u663E\u793A\uFF09 "),i("div",{style:{"font-size":"13px",color:"var(--el-color-info)"}},`v-if="$permission(['admin','ordinary'])"`)],-1),te=e("['admin','ordinary']"),se=e("['ordinary','test']"),oe=e("['admin','test']");function ie(o,c,_,p,f,h){const t=v("el-button"),F=v("el-button-group"),m=v("el-card"),r=w("permission");return a(),u(m,{shadow:o.defaultData.cardShadow},{header:s(()=>[i("span",null,[z,i("span",I,g(o.userInfo("roles")),1)]),n(F,{style:{float:"right"}},{default:s(()=>[n(t,{type:o.checket=="admin"?"primary":"default",onClick:c[0]||(c[0]=y=>o.switchUser("admin"))},{default:s(()=>[b]),_:1},8,["type"]),n(t,{type:o.checket=="ordinary"?"primary":"default",onClick:c[1]||(c[1]=y=>o.switchUser("ordinary"))},{default:s(()=>[N]),_:1},8,["type"]),n(t,{type:o.checket=="test"?"primary":"default",onClick:c[2]||(c[2]=y=>o.switchUser("test"))},{default:s(()=>[U]),_:1},8,["type"])]),_:1})]),default:s(()=>[(a(),k("div",{class:"grid grid-c-3",key:o.key},[i("div",null,[R,d(n(t,{type:"primary"},{default:s(()=>[V]),_:1},512),[[r,["admin"]]]),d(n(t,{type:"success"},{default:s(()=>[S]),_:1},512),[[r,["ordinary"]]]),d(n(t,{type:"warning"},{default:s(()=>[T]),_:1},512),[[r,"test"]])]),i("div",null,[j,d(n(t,{type:"primary"},{default:s(()=>[q]),_:1},512),[[r,["admin","ordinary"]]]),d(n(t,{type:"success"},{default:s(()=>[G]),_:1},512),[[r,["ordinary","test"]]]),d(n(t,{type:"warning"},{default:s(()=>[H]),_:1},512),[[r,["admin","test"]]])]),i("div",null,[J,d(n(t,{type:"primary"},{default:s(()=>[K]),_:1},512),[[r,["admin","ordinary"],"all"]]),d(n(t,{type:"success"},{default:s(()=>[L]),_:1},512),[[r,["ordinary","test"],"all"]]),d(n(t,{type:"warning"},{default:s(()=>[M]),_:1},512),[[r,["admin","test"],"all"]])])])),(a(),k("div",{class:"grid grid-c-3",key:o.key+1},[i("div",null,[O,o.$permission(["admin"])?(a(),u(t,{key:0,type:"primary"},{default:s(()=>[P]),_:1})):l("",!0),o.$permission(["ordinary"])?(a(),u(t,{key:1,type:"success"},{default:s(()=>[Q]),_:1})):l("",!0),o.$permission("test")?(a(),u(t,{key:2,type:"warning"},{default:s(()=>[W]),_:1})):l("",!0)]),i("div",null,[X,o.$permission(["admin","ordinary"])?(a(),u(t,{key:0,type:"primary"},{default:s(()=>[Y]),_:1})):l("",!0),o.$permission(["ordinary","test"])?(a(),u(t,{key:1,type:"success"},{default:s(()=>[Z]),_:1})):l("",!0),o.$permission(["admin","test"])?(a(),u(t,{key:2,type:"warning"},{default:s(()=>[x]),_:1})):l("",!0)]),i("div",null,[ee,o.$permission(["admin","ordinary"],!0)?(a(),u(t,{key:0,type:"primary"},{default:s(()=>[te]),_:1})):l("",!0),o.$permission(["ordinary","test"],!0)?(a(),u(t,{key:1,type:"success"},{default:s(()=>[se]),_:1})):l("",!0),o.$permission(["admin","test"],!0)?(a(),u(t,{key:2,type:"warning"},{default:s(()=>[oe]),_:1})):l("",!0)])]))]),_:1},8,["shadow"])}var ne=A(D,[["render",ie]]);export{ne as default};
