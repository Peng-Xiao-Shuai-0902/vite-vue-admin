import{$ as pe,aR as be,aH as N,aS as ve,aT as ae,aU as K,aV as z,aW as w,d as H,al as _e,a2 as Ve,r as ne,q as ie,aX as ye,a3 as T,a4 as L,a1 as Ne,aY as ge,ai as he,Q as Se,aZ as we,o as V,f as A,z as Q,n as l,a_ as X,v as W,aL as U,Z as M,g as m,w as p,x as F,a$ as xe,b0 as Ee,P as G,C as ee,b1 as Ie,b2 as Te,aB as Fe,aJ as Y,p as re,a6 as ze,b3 as Ae,b4 as ke,b5 as le,a7 as Pe,t as Be,k as _,J as Ce,K as $e,b6 as te,j as De,b7 as Le,i as Ue,af as Me,ag as Ke,l as Oe,E as Re}from"./index-d0d9e9f9.js";/* empty css             */import{E as je,a as Ze}from"./form-item-e0a55f95.js";const We=pe({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:be,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:s=>s===null||N(s)||["min","max"].includes(s),default:null},name:String,placeholder:String,precision:{type:Number,validator:s=>s>=0&&s===Number.parseInt(`${s}`,10)},validateEvent:{type:Boolean,default:!0},...ve(["ariaLabel"])}),Ye={[ae]:(s,a)=>a!==s,blur:s=>s instanceof FocusEvent,focus:s=>s instanceof FocusEvent,[K]:s=>N(s)||z(s),[w]:s=>N(s)||z(s)},Ge=H({name:"ElInputNumber"}),He=H({...Ge,props:We,emits:Ye,setup(s,{expose:a,emit:f}){const i=s,{t:u}=_e(),v=Ve("input-number"),h=ne(),r=ie({currentValue:i.modelValue,userInput:null}),{formItem:g}=ye(),k=T(()=>N(i.modelValue)&&i.modelValue<=i.min),x=T(()=>N(i.modelValue)&&i.modelValue>=i.max),O=T(()=>{const e=I(i.step);return L(i.precision)?Math.max(I(i.modelValue),e):(e>i.precision,i.precision)}),E=T(()=>i.controls&&i.controlsPosition==="right"),P=Ne(),S=ge(),o=T(()=>{if(r.userInput!==null)return r.userInput;let e=r.currentValue;if(z(e))return"";if(N(e)){if(Number.isNaN(e))return"";L(i.precision)||(e=e.toFixed(i.precision))}return e}),B=(e,t)=>{if(L(t)&&(t=O.value),t===0)return Math.round(e);let n=String(e);const c=n.indexOf(".");if(c===-1||!n.replace(".","").split("")[c+t])return e;const $=n.length;return n.charAt($-1)==="5"&&(n=`${n.slice(0,Math.max(0,$-1))}6`),Number.parseFloat(Number(n).toFixed(t))},I=e=>{if(z(e))return 0;const t=e.toString(),n=t.indexOf(".");let c=0;return n!==-1&&(c=t.length-n-1),c},J=(e,t=1)=>N(e)?B(e+i.step*t):r.currentValue,R=()=>{if(i.readonly||S.value||x.value)return;const e=Number(o.value)||0,t=J(e);C(t),f(K,r.currentValue),Z()},j=()=>{if(i.readonly||S.value||k.value)return;const e=Number(o.value)||0,t=J(e,-1);C(t),f(K,r.currentValue),Z()},q=(e,t)=>{const{max:n,min:c,step:d,precision:y,stepStrictly:$,valueOnClear:D}=i;n<c&&Ae("InputNumber","min should not be greater than max.");let b=Number(e);if(z(e)||Number.isNaN(b))return null;if(e===""){if(D===null)return null;b=ke(D)?{min:c,max:n}[D]:D}return $&&(b=B(Math.round(b/d)*d,y),b!==e&&t&&f(w,b)),L(y)||(b=B(b,y)),(b>n||b<c)&&(b=b>n?n:c,t&&f(w,b)),b},C=(e,t=!0)=>{var n;const c=r.currentValue,d=q(e);if(!t){f(w,d);return}c===d&&e||(r.userInput=null,f(w,d),c!==d&&f(ae,d,c),i.validateEvent&&((n=g==null?void 0:g.validate)==null||n.call(g,"change").catch(y=>le())),r.currentValue=d)},se=e=>{r.userInput=e;const t=e===""?null:Number(e);f(K,t),C(t,!1)},oe=e=>{const t=e!==""?Number(e):"";(N(t)&&!Number.isNaN(t)||e==="")&&C(t),Z(),r.userInput=null},ue=()=>{var e,t;(t=(e=h.value)==null?void 0:e.focus)==null||t.call(e)},de=()=>{var e,t;(t=(e=h.value)==null?void 0:e.blur)==null||t.call(e)},me=e=>{f("focus",e)},ce=e=>{var t;r.userInput=null,f("blur",e),i.validateEvent&&((t=g==null?void 0:g.validate)==null||t.call(g,"blur").catch(n=>le()))},Z=()=>{r.currentValue!==i.modelValue&&(r.currentValue=i.modelValue)},fe=e=>{document.activeElement===e.target&&e.preventDefault()};return he(()=>i.modelValue,(e,t)=>{const n=q(e,!0);r.userInput===null&&n!==t&&(r.currentValue=n)},{immediate:!0}),Se(()=>{var e;const{min:t,max:n,modelValue:c}=i,d=(e=h.value)==null?void 0:e.input;if(d.setAttribute("role","spinbutton"),Number.isFinite(n)?d.setAttribute("aria-valuemax",String(n)):d.removeAttribute("aria-valuemax"),Number.isFinite(t)?d.setAttribute("aria-valuemin",String(t)):d.removeAttribute("aria-valuemin"),d.setAttribute("aria-valuenow",r.currentValue||r.currentValue===0?String(r.currentValue):""),d.setAttribute("aria-disabled",String(S.value)),!N(c)&&c!=null){let y=Number(c);Number.isNaN(y)&&(y=null),f(w,y)}d.addEventListener("wheel",fe,{passive:!1})}),we(()=>{var e,t;const n=(e=h.value)==null?void 0:e.input;n==null||n.setAttribute("aria-valuenow",`${(t=r.currentValue)!=null?t:""}`)}),a({focus:ue,blur:de}),(e,t)=>(V(),A("div",{class:W([l(v).b(),l(v).m(l(P)),l(v).is("disabled",l(S)),l(v).is("without-controls",!e.controls),l(v).is("controls-right",l(E))]),onDragstart:Y(()=>{},["prevent"])},[e.controls?Q((V(),A("span",{key:0,role:"button","aria-label":l(u)("el.inputNumber.decrease"),class:W([l(v).e("decrease"),l(v).is("disabled",l(k))]),onKeydown:U(j,["enter"])},[M(e.$slots,"decrease-icon",{},()=>[m(l(G),null,{default:p(()=>[l(E)?(V(),F(l(xe),{key:0})):(V(),F(l(Ee),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[l(X),j]]):ee("v-if",!0),e.controls?Q((V(),A("span",{key:1,role:"button","aria-label":l(u)("el.inputNumber.increase"),class:W([l(v).e("increase"),l(v).is("disabled",l(x))]),onKeydown:U(R,["enter"])},[M(e.$slots,"increase-icon",{},()=>[m(l(G),null,{default:p(()=>[l(E)?(V(),F(l(Ie),{key:0})):(V(),F(l(Te),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[l(X),R]]):ee("v-if",!0),m(l(re),{id:e.id,ref_key:"input",ref:h,type:"number",step:e.step,"model-value":l(o),placeholder:e.placeholder,readonly:e.readonly,disabled:l(S),size:l(P),max:e.max,min:e.min,name:e.name,"aria-label":e.ariaLabel,"validate-event":!1,onKeydown:[U(Y(R,["prevent"]),["up"]),U(Y(j,["prevent"]),["down"])],onBlur:ce,onFocus:me,onInput:se,onChange:oe},Fe({_:2},[e.$slots.prefix?{name:"prefix",fn:p(()=>[M(e.$slots,"prefix")])}:void 0,e.$slots.suffix?{name:"suffix",fn:p(()=>[M(e.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var Je=ze(He,[["__file","input-number.vue"]]);const qe=Pe(Je);const Qe={class:"app-container"},Xe={class:"screenForm"},el={class:"_flex"},ll={style:{flex:"1","margin-right":"20px"}},tl={style:{flex:"1"}},al=["src"],nl={class:"el-upload-list__item-actions"},il=["onClick"],ul=H({__name:"index",setup(s){let a=ie({image:[{url:"http://www.aiiup.cn/uploads/20190821/1-1Z115223503326.jpg",name:"1-1Z115223503326.jpg"}],limit:1,fileType:0,fileSize:1,suffixStr:"jpg、jpeg、png",suffixArr:[{label:"图片",type:0},{label:"视频",type:1},{label:"文件",type:2}]});const f=ne(null);return Be(()=>{console.log(f.value)}),(i,u)=>{const v=Ue,h=qe,r=je,g=Me,k=Ke,x=re,O=Ze,E=Oe,P=G,S=Re;return V(),A("div",Qe,[m(S,{shadow:i.defaultData.cardShadow},{default:p(()=>[m(v),_("div",null,[m(O,{inline:!0,model:l(a)},{default:p(()=>[_("div",Xe,[m(r,{label:"最大上传数量："},{default:p(()=>[m(h,{modelValue:l(a).limit,"onUpdate:modelValue":u[0]||(u[0]=o=>l(a).limit=o),placeholder:"请输入最大上传数量",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),m(r,{label:"上传类型："},{default:p(()=>[m(k,{modelValue:l(a).fileType,"onUpdate:modelValue":u[1]||(u[1]=o=>l(a).fileType=o),placeholder:"请选择",style:{width:"80%"}},{default:p(()=>[(V(!0),A(Ce,null,$e(l(a).suffixArr,o=>(V(),F(g,{key:o.type,label:o.label,value:o.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),m(r,{label:"最大上传文件大小（MB）："},{default:p(()=>[m(x,{modelValue:l(a).fileSize,"onUpdate:modelValue":u[2]||(u[2]=o=>l(a).fileSize=o),placeholder:"请输入最大上传文件大小",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),m(r,{label:"上传"+l(a).suffixArr[l(a).fileType].label+"类型（、）隔开："},{default:p(()=>[m(x,{modelValue:l(a).suffixStr,"onUpdate:modelValue":u[3]||(u[3]=o=>l(a).suffixStr=o),placeholder:"请输入上传"+l(a).suffixArr[l(a).fileType].label+"格式",style:{width:"80%"},clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])])]),_:1},8,["model"])]),_("div",el,[_("div",ll,[u[6]||(u[6]=_("div",{class:"tipBox"},"基础使用",-1)),m(te,{modelValue:l(a).image,"onUpdate:modelValue":u[4]||(u[4]=o=>l(a).image=o),limit:l(a).limit,fileType:l(a).fileType,fileSize:l(a).fileSize,suffixStr:l(a).suffixStr,tipLabel:"最大上传数量为"+l(a).limit+"，只能上传"+l(a).suffixStr+"，且文件大小不超过"+l(a).fileSize},null,8,["modelValue","limit","fileType","fileSize","suffixStr","tipLabel"])]),_("div",tl,[u[8]||(u[8]=_("div",{class:"tipBox"},"插槽使用",-1)),m(te,{ref_key:"uploadFileRef",ref:f,modelValue:l(a).image,"onUpdate:modelValue":u[5]||(u[5]=o=>l(a).image=o),limit:l(a).limit,fileType:l(a).fileType,fileSize:l(a).fileSize,suffixStr:l(a).suffixStr,tipLabel:"最大上传数量为"+l(a).limit+"，只能上传"+l(a).suffixStr+"，且文件大小不超过"+l(a).fileSize},{default:p(()=>[m(E,{type:"primary"},{default:p(()=>u[7]||(u[7]=[De("上传")])),_:1})]),file:p(({file:o})=>[_("div",null,[_("img",{class:"el-upload-list__item-thumbnail",src:o.url,alt:""},null,8,al),_("div",nl,[_("span",{class:"el-upload-list__item-delete",onClick:B=>{var I;return(I=f.value)==null?void 0:I.handleRemove(o)}},[m(P,null,{default:p(()=>[m(l(Le))]),_:1})],8,il)])])]),_:1},8,["modelValue","limit","fileType","fileSize","suffixStr","tipLabel"])])])]),_:1},8,["shadow"])])}}});export{ul as default};
