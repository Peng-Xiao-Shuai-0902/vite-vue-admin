import{aZ as ce,a_ as me,a$ as y,b0 as le,b1 as O,b2 as k,b3 as F,d as H,b4 as pe,b5 as fe,l as te,k as ne,b6 as be,b7 as E,b8 as $,b9 as _e,ba as ve,$ as ye,O as Ne,bb as Ve,o as N,a as z,bc as q,m as l,bd as J,j as Z,K,i as u,w as f,h as T,q as he,be as ge,x as G,a1 as Q,bf as Se,bg as we,H as M,N as ae,bh as xe,bi as Ie,bj as X,bk as Ee,aW as Fe,f as Te,b as v,F as ke,e as ze,bl as ee,p as Ae,bm as Be,a2 as Ce,a3 as Pe,I as Ue,E as De}from"./index-22d7fef2.js";/* empty css             */import{a as $e,E as Ke}from"./form-item-32b74ae5.js";const Me=ce({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:me,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:s=>s===null||y(s)||["min","max"].includes(s),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:s=>s>=0&&s===Number.parseInt(`${s}`,10)},validateEvent:{type:Boolean,default:!0}}),Oe={[le]:(s,n)=>n!==s,blur:s=>s instanceof FocusEvent,focus:s=>s instanceof FocusEvent,[O]:s=>y(s)||k(s),[F]:s=>y(s)||k(s)},Le=["aria-label","onKeydown"],je=["aria-label","onKeydown"],Re=H({name:"ElInputNumber"}),We=H({...Re,props:Me,emits:Oe,setup(s,{expose:n,emit:p}){const a=s,{t:m}=pe(),_=fe("input-number"),g=te(),r=ne({currentValue:a.modelValue,userInput:null}),{formItem:h}=be(),A=E(()=>y(a.modelValue)&&a.modelValue<=a.min),w=E(()=>y(a.modelValue)&&a.modelValue>=a.max),L=E(()=>{const e=I(a.step);return $(a.precision)?Math.max(I(a.modelValue),e):(e>a.precision,a.precision)}),x=E(()=>a.controls&&a.controlsPosition==="right"),B=_e(),S=ve(),o=E(()=>{if(r.userInput!==null)return r.userInput;let e=r.currentValue;if(k(e))return"";if(y(e)){if(Number.isNaN(e))return"";$(a.precision)||(e=e.toFixed(a.precision))}return e}),C=(e,t)=>{if($(t)&&(t=L.value),t===0)return Math.round(e);let i=String(e);const c=i.indexOf(".");if(c===-1||!i.replace(".","").split("")[c+t])return e;const U=i.length;return i.charAt(U-1)==="5"&&(i=`${i.slice(0,Math.max(0,U-1))}6`),Number.parseFloat(Number(i).toFixed(t))},I=e=>{if(k(e))return 0;const t=e.toString(),i=t.indexOf(".");let c=0;return i!==-1&&(c=t.length-i-1),c},Y=(e,t=1)=>y(e)?C(e+a.step*t):r.currentValue,j=()=>{if(a.readonly||S.value||w.value)return;const e=Number(o.value)||0,t=Y(e);P(t),p(O,r.currentValue)},R=()=>{if(a.readonly||S.value||A.value)return;const e=Number(o.value)||0,t=Y(e,-1);P(t),p(O,r.currentValue)},W=(e,t)=>{const{max:i,min:c,step:d,precision:V,stepStrictly:U,valueOnClear:D}=a;let b=Number(e);if(k(e)||Number.isNaN(b))return null;if(e===""){if(D===null)return null;b=Ie(D)?{min:c,max:i}[D]:D}return U&&(b=C(Math.round(b/d)*d,V)),$(V)||(b=C(b,V)),(b>i||b<c)&&(b=b>i?i:c,t&&p(F,b)),b},P=(e,t=!0)=>{var i;const c=r.currentValue,d=W(e);if(!t){p(F,d);return}c!==d&&(r.userInput=null,p(F,d),p(le,d,c),a.validateEvent&&((i=h==null?void 0:h.validate)==null||i.call(h,"change").catch(V=>X())),r.currentValue=d)},ie=e=>{r.userInput=e;const t=e===""?null:Number(e);p(O,t),P(t,!1)},se=e=>{const t=e!==""?Number(e):"";(y(t)&&!Number.isNaN(t)||e==="")&&P(t),r.userInput=null},oe=()=>{var e,t;(t=(e=g.value)==null?void 0:e.focus)==null||t.call(e)},re=()=>{var e,t;(t=(e=g.value)==null?void 0:e.blur)==null||t.call(e)},ue=e=>{p("focus",e)},de=e=>{var t;p("blur",e),a.validateEvent&&((t=h==null?void 0:h.validate)==null||t.call(h,"blur").catch(i=>X()))};return ye(()=>a.modelValue,e=>{const t=W(r.userInput),i=W(e,!0);!y(t)&&(!t||t!==i)&&(r.currentValue=i,r.userInput=null)},{immediate:!0}),Ne(()=>{var e;const{min:t,max:i,modelValue:c}=a,d=(e=g.value)==null?void 0:e.input;if(d.setAttribute("role","spinbutton"),Number.isFinite(i)?d.setAttribute("aria-valuemax",String(i)):d.removeAttribute("aria-valuemax"),Number.isFinite(t)?d.setAttribute("aria-valuemin",String(t)):d.removeAttribute("aria-valuemin"),d.setAttribute("aria-valuenow",String(r.currentValue)),d.setAttribute("aria-disabled",String(S.value)),!y(c)&&c!=null){let V=Number(c);Number.isNaN(V)&&(V=null),p(F,V)}}),Ve(()=>{var e;const t=(e=g.value)==null?void 0:e.input;t==null||t.setAttribute("aria-valuenow",`${r.currentValue}`)}),n({focus:oe,blur:re}),(e,t)=>(N(),z("div",{class:Z([l(_).b(),l(_).m(l(B)),l(_).is("disabled",l(S)),l(_).is("without-controls",!e.controls),l(_).is("controls-right",l(x))]),onDragstart:t[1]||(t[1]=M(()=>{},["prevent"]))},[e.controls?q((N(),z("span",{key:0,role:"button","aria-label":l(m)("el.inputNumber.decrease"),class:Z([l(_).e("decrease"),l(_).is("disabled",l(A))]),onKeydown:K(R,["enter"])},[u(l(G),null,{default:f(()=>[l(x)?(N(),T(l(he),{key:0})):(N(),T(l(ge),{key:1}))]),_:1})],42,Le)),[[l(J),R]]):Q("v-if",!0),e.controls?q((N(),z("span",{key:1,role:"button","aria-label":l(m)("el.inputNumber.increase"),class:Z([l(_).e("increase"),l(_).is("disabled",l(w))]),onKeydown:K(j,["enter"])},[u(l(G),null,{default:f(()=>[l(x)?(N(),T(l(Se),{key:0})):(N(),T(l(we),{key:1}))]),_:1})],42,je)),[[l(J),j]]):Q("v-if",!0),u(l(ae),{id:e.id,ref_key:"input",ref:g,type:"number",step:e.step,"model-value":l(o),placeholder:e.placeholder,readonly:e.readonly,disabled:l(S),size:l(B),max:e.max,min:e.min,name:e.name,label:e.label,"validate-event":!1,onWheel:t[0]||(t[0]=M(()=>{},["prevent"])),onKeydown:[K(M(j,["prevent"]),["up"]),K(M(R,["prevent"]),["down"])],onBlur:de,onFocus:ue,onInput:ie,onChange:se},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var Ze=xe(We,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const Ge=Ee(Ze);const He={class:"app-container"},Ye={class:"screenForm"},qe={class:"_flex"},Je={style:{flex:"1","margin-right":"20px"}},Qe=v("div",{class:"tipBox"},"基础使用",-1),Xe={style:{flex:"1"}},el=v("div",{class:"tipBox"},"插槽使用",-1),ll=["src"],tl={class:"el-upload-list__item-actions"},nl=["onClick"],ol=H({__name:"index",setup(s){let n=ne({image:[{url:"http://www.aiiup.cn/uploads/20190821/1-1Z115223503326.jpg",name:"1-1Z115223503326.jpg"}],limit:1,fileType:0,fileSize:1,suffixStr:"jpg、jpeg、png",suffixArr:[{label:"图片",type:0},{label:"视频",type:1},{label:"文件",type:2}]});const p=te(null);return Fe(()=>{console.log(p.value)}),(a,m)=>{const _=Te("view-name"),g=Ge,r=$e,h=Ce,A=Pe,w=ae,L=Ke,x=Ue,B=G,S=De;return N(),z("div",He,[u(S,{shadow:a.defaultData.cardShadow},{default:f(()=>[u(_),v("div",null,[u(L,{inline:!0,model:l(n)},{default:f(()=>[v("div",Ye,[u(r,{label:"最大上传数量："},{default:f(()=>[u(g,{modelValue:l(n).limit,"onUpdate:modelValue":m[0]||(m[0]=o=>l(n).limit=o),placeholder:"请输入最大上传数量",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),u(r,{label:"上传类型："},{default:f(()=>[u(A,{modelValue:l(n).fileType,"onUpdate:modelValue":m[1]||(m[1]=o=>l(n).fileType=o),placeholder:"请选择",style:{width:"80%"}},{default:f(()=>[(N(!0),z(ke,null,ze(l(n).suffixArr,o=>(N(),T(h,{key:o.type,label:o.label,value:o.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(r,{label:"最大上传文件大小（MB）："},{default:f(()=>[u(w,{modelValue:l(n).fileSize,"onUpdate:modelValue":m[2]||(m[2]=o=>l(n).fileSize=o),placeholder:"请输入最大上传文件大小",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),u(r,{label:"上传"+l(n).suffixArr[l(n).fileType].label+"类型（、）隔开："},{default:f(()=>[u(w,{modelValue:l(n).suffixStr,"onUpdate:modelValue":m[3]||(m[3]=o=>l(n).suffixStr=o),placeholder:"请输入上传"+l(n).suffixArr[l(n).fileType].label+"格式",style:{width:"80%"},clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])])]),_:1},8,["model"])]),v("div",qe,[v("div",Je,[Qe,u(ee,{modelValue:l(n).image,"onUpdate:modelValue":m[4]||(m[4]=o=>l(n).image=o),limit:l(n).limit,fileType:l(n).fileType,fileSize:l(n).fileSize,suffixStr:l(n).suffixStr,tipLabel:"最大上传数量为"+l(n).limit+"，只能上传"+l(n).suffixStr+"，且文件大小不超过"+l(n).fileSize},null,8,["modelValue","limit","fileType","fileSize","suffixStr","tipLabel"])]),v("div",Xe,[el,u(ee,{ref_key:"uploadFileRef",ref:p,modelValue:l(n).image,"onUpdate:modelValue":m[5]||(m[5]=o=>l(n).image=o),limit:l(n).limit,fileType:l(n).fileType,fileSize:l(n).fileSize,suffixStr:l(n).suffixStr,tipLabel:"最大上传数量为"+l(n).limit+"，只能上传"+l(n).suffixStr+"，且文件大小不超过"+l(n).fileSize},{default:f(()=>[u(x,{type:"primary"},{default:f(()=>[Ae("上传")]),_:1})]),file:f(({file:o})=>[v("div",null,[v("img",{class:"el-upload-list__item-thumbnail",src:o.url,alt:""},null,8,ll),v("div",tl,[v("span",{class:"el-upload-list__item-delete",onClick:C=>{var I;return(I=p.value)==null?void 0:I.handleRemove(o)}},[u(B,null,{default:f(()=>[u(l(Be))]),_:1})],8,nl)])])]),_:1},8,["modelValue","limit","fileType","fileSize","suffixStr","tipLabel"])])])]),_:1},8,["shadow"])])}}});export{ol as default};
