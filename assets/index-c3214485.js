import{a$ as ce,b0 as me,b1 as y,b2 as le,b3 as L,b4 as k,b5 as F,d as W,b6 as pe,b7 as fe,l as te,k as ne,b8 as be,b9 as E,ba as K,bb as _e,bc as ve,a0 as ye,P as Ne,bd as Ve,o as N,a as z,be as q,m as l,bf as J,j as G,K as M,i as u,w as f,h as T,q as he,bg as ge,x as H,a2 as Q,bh as Se,bi as we,H as $,N as ae,bj as xe,bk as Ie,bl as X,bm as Ee,aY as Fe,f as Te,b as v,F as ke,e as ze,bn as ee,p as Ae,bo as Pe,a3 as Be,a4 as Ce,I as Ue,E as De}from"./index-a1fd9133.js";/* empty css             */import{a as Ke,E as Me}from"./form-item-00f8c83f.js";const $e=ce({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:me,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:s=>s===null||y(s)||["min","max"].includes(s),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:s=>s>=0&&s===Number.parseInt(`${s}`,10)},validateEvent:{type:Boolean,default:!0}}),Le={[le]:(s,n)=>n!==s,blur:s=>s instanceof FocusEvent,focus:s=>s instanceof FocusEvent,[L]:s=>y(s)||k(s),[F]:s=>y(s)||k(s)},Oe=["aria-label","onKeydown"],je=["aria-label","onKeydown"],Re=W({name:"ElInputNumber"}),Ye=W({...Re,props:$e,emits:Le,setup(s,{expose:n,emit:p}){const a=s,{t:m}=pe(),_=fe("input-number"),g=te(),r=ne({currentValue:a.modelValue,userInput:null}),{formItem:h}=be(),A=E(()=>y(a.modelValue)&&a.modelValue<=a.min),w=E(()=>y(a.modelValue)&&a.modelValue>=a.max),O=E(()=>{const e=I(a.step);return K(a.precision)?Math.max(I(a.modelValue),e):(e>a.precision,a.precision)}),x=E(()=>a.controls&&a.controlsPosition==="right"),P=_e(),S=ve(),o=E(()=>{if(r.userInput!==null)return r.userInput;let e=r.currentValue;if(k(e))return"";if(y(e)){if(Number.isNaN(e))return"";K(a.precision)||(e=e.toFixed(a.precision))}return e}),B=(e,t)=>{if(K(t)&&(t=O.value),t===0)return Math.round(e);let i=String(e);const c=i.indexOf(".");if(c===-1||!i.replace(".","").split("")[c+t])return e;const U=i.length;return i.charAt(U-1)==="5"&&(i=`${i.slice(0,Math.max(0,U-1))}6`),Number.parseFloat(Number(i).toFixed(t))},I=e=>{if(k(e))return 0;const t=e.toString(),i=t.indexOf(".");let c=0;return i!==-1&&(c=t.length-i-1),c},Z=(e,t=1)=>y(e)?B(e+a.step*t):r.currentValue,j=()=>{if(a.readonly||S.value||w.value)return;const e=Number(o.value)||0,t=Z(e);C(t),p(L,r.currentValue)},R=()=>{if(a.readonly||S.value||A.value)return;const e=Number(o.value)||0,t=Z(e,-1);C(t),p(L,r.currentValue)},Y=(e,t)=>{const{max:i,min:c,step:d,precision:V,stepStrictly:U,valueOnClear:D}=a;let b=Number(e);if(k(e)||Number.isNaN(b))return null;if(e===""){if(D===null)return null;b=Ie(D)?{min:c,max:i}[D]:D}return U&&(b=B(Math.round(b/d)*d,V)),K(V)||(b=B(b,V)),(b>i||b<c)&&(b=b>i?i:c,t&&p(F,b)),b},C=(e,t=!0)=>{var i;const c=r.currentValue,d=Y(e);if(!t){p(F,d);return}c!==d&&(r.userInput=null,p(F,d),p(le,d,c),a.validateEvent&&((i=h==null?void 0:h.validate)==null||i.call(h,"change").catch(V=>X())),r.currentValue=d)},ie=e=>{r.userInput=e;const t=e===""?null:Number(e);p(L,t),C(t,!1)},se=e=>{const t=e!==""?Number(e):"";(y(t)&&!Number.isNaN(t)||e==="")&&C(t),r.userInput=null},oe=()=>{var e,t;(t=(e=g.value)==null?void 0:e.focus)==null||t.call(e)},re=()=>{var e,t;(t=(e=g.value)==null?void 0:e.blur)==null||t.call(e)},ue=e=>{p("focus",e)},de=e=>{var t;p("blur",e),a.validateEvent&&((t=h==null?void 0:h.validate)==null||t.call(h,"blur").catch(i=>X()))};return ye(()=>a.modelValue,e=>{const t=Y(r.userInput),i=Y(e,!0);!y(t)&&(!t||t!==i)&&(r.currentValue=i,r.userInput=null)},{immediate:!0}),Ne(()=>{var e;const{min:t,max:i,modelValue:c}=a,d=(e=g.value)==null?void 0:e.input;if(d.setAttribute("role","spinbutton"),Number.isFinite(i)?d.setAttribute("aria-valuemax",String(i)):d.removeAttribute("aria-valuemax"),Number.isFinite(t)?d.setAttribute("aria-valuemin",String(t)):d.removeAttribute("aria-valuemin"),d.setAttribute("aria-valuenow",String(r.currentValue)),d.setAttribute("aria-disabled",String(S.value)),!y(c)&&c!=null){let V=Number(c);Number.isNaN(V)&&(V=null),p(F,V)}}),Ve(()=>{var e;const t=(e=g.value)==null?void 0:e.input;t==null||t.setAttribute("aria-valuenow",`${r.currentValue}`)}),n({focus:oe,blur:re}),(e,t)=>(N(),z("div",{class:G([l(_).b(),l(_).m(l(P)),l(_).is("disabled",l(S)),l(_).is("without-controls",!e.controls),l(_).is("controls-right",l(x))]),onDragstart:t[1]||(t[1]=$(()=>{},["prevent"]))},[e.controls?q((N(),z("span",{key:0,role:"button","aria-label":l(m)("el.inputNumber.decrease"),class:G([l(_).e("decrease"),l(_).is("disabled",l(A))]),onKeydown:M(R,["enter"])},[u(l(H),null,{default:f(()=>[l(x)?(N(),T(l(he),{key:0})):(N(),T(l(ge),{key:1}))]),_:1})],42,Oe)),[[l(J),R]]):Q("v-if",!0),e.controls?q((N(),z("span",{key:1,role:"button","aria-label":l(m)("el.inputNumber.increase"),class:G([l(_).e("increase"),l(_).is("disabled",l(w))]),onKeydown:M(j,["enter"])},[u(l(H),null,{default:f(()=>[l(x)?(N(),T(l(Se),{key:0})):(N(),T(l(we),{key:1}))]),_:1})],42,je)),[[l(J),j]]):Q("v-if",!0),u(l(ae),{id:e.id,ref_key:"input",ref:g,type:"number",step:e.step,"model-value":l(o),placeholder:e.placeholder,readonly:e.readonly,disabled:l(S),size:l(P),max:e.max,min:e.min,name:e.name,label:e.label,"validate-event":!1,onWheel:t[0]||(t[0]=$(()=>{},["prevent"])),onKeydown:[M($(j,["prevent"]),["up"]),M($(R,["prevent"]),["down"])],onBlur:de,onFocus:ue,onInput:ie,onChange:se},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var Ge=xe(Ye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const He=Ee(Ge);const We={class:"app-container"},Ze={class:"screenForm"},qe={class:"_flex"},Je={style:{flex:"1","margin-right":"20px"}},Qe=v("div",{class:"tipBox"},"基础使用",-1),Xe={style:{flex:"1"}},el=v("div",{class:"tipBox"},"插槽使用",-1),ll=["src"],tl={class:"el-upload-list__item-actions"},nl=["onClick"],ol=W({__name:"index",setup(s){let n=ne({image:[{url:"http://www.aiiup.cn/uploads/20190821/1-1Z115223503326.jpg",name:"1-1Z115223503326.jpg"}],limit:1,fileType:0,fileSize:1,suffixStr:"jpg、jpeg、png",suffixArr:[{label:"图片",type:0},{label:"视频",type:1},{label:"文件",type:2}]});const p=te(null);return Fe(()=>{console.log(p.value)}),(a,m)=>{const _=Te("view-name"),g=He,r=Ke,h=Be,A=Ce,w=ae,O=Me,x=Ue,P=H,S=De;return N(),z("div",We,[u(S,{shadow:a.defaultData.cardShadow},{default:f(()=>[u(_),v("div",null,[u(O,{inline:!0,model:l(n)},{default:f(()=>[v("div",Ze,[u(r,{label:"最大上传数量："},{default:f(()=>[u(g,{modelValue:l(n).limit,"onUpdate:modelValue":m[0]||(m[0]=o=>l(n).limit=o),placeholder:"请输入最大上传数量",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),u(r,{label:"上传类型："},{default:f(()=>[u(A,{modelValue:l(n).fileType,"onUpdate:modelValue":m[1]||(m[1]=o=>l(n).fileType=o),placeholder:"请选择",style:{width:"80%"}},{default:f(()=>[(N(!0),z(ke,null,ze(l(n).suffixArr,o=>(N(),T(h,{key:o.type,label:o.label,value:o.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(r,{label:"最大上传文件大小（MB）："},{default:f(()=>[u(w,{modelValue:l(n).fileSize,"onUpdate:modelValue":m[2]||(m[2]=o=>l(n).fileSize=o),placeholder:"请输入最大上传文件大小",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),u(r,{label:"上传"+l(n).suffixArr[l(n).fileType].label+"类型（、）隔开："},{default:f(()=>[u(w,{modelValue:l(n).suffixStr,"onUpdate:modelValue":m[3]||(m[3]=o=>l(n).suffixStr=o),placeholder:"请输入上传"+l(n).suffixArr[l(n).fileType].label+"格式",style:{width:"80%"},clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])])]),_:1},8,["model"])]),v("div",qe,[v("div",Je,[Qe,u(ee,{modelValue:l(n).image,"onUpdate:modelValue":m[4]||(m[4]=o=>l(n).image=o),limit:l(n).limit,fileType:l(n).fileType,fileSize:l(n).fileSize,suffixStr:l(n).suffixStr,tipLabel:"最大上传数量为"+l(n).limit+"，只能上传"+l(n).suffixStr+"，且文件大小不超过"+l(n).fileSize},null,8,["modelValue","limit","fileType","fileSize","suffixStr","tipLabel"])]),v("div",Xe,[el,u(ee,{ref_key:"uploadFileRef",ref:p,modelValue:l(n).image,"onUpdate:modelValue":m[5]||(m[5]=o=>l(n).image=o),limit:l(n).limit,fileType:l(n).fileType,fileSize:l(n).fileSize,suffixStr:l(n).suffixStr,tipLabel:"最大上传数量为"+l(n).limit+"，只能上传"+l(n).suffixStr+"，且文件大小不超过"+l(n).fileSize},{default:f(()=>[u(x,{type:"primary"},{default:f(()=>[Ae("上传")]),_:1})]),file:f(({file:o})=>[v("div",null,[v("img",{class:"el-upload-list__item-thumbnail",src:o.url,alt:""},null,8,ll),v("div",tl,[v("span",{class:"el-upload-list__item-delete",onClick:B=>{var I;return(I=p.value)==null?void 0:I.handleRemove(o)}},[u(P,null,{default:f(()=>[u(l(Pe))]),_:1})],8,nl)])])]),_:1},8,["modelValue","limit","fileType","fileSize","suffixStr","tipLabel"])])])]),_:1},8,["shadow"])])}}});export{ol as default};
