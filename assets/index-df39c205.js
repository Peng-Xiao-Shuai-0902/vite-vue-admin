import{a1 as fe,aT as be,aJ as N,aU as _e,aV as ae,aW as M,aX as z,aY as T,d as G,an as ve,a4 as Ve,r as ne,q as ie,aZ as ye,a5 as w,a6 as L,a3 as Ne,a_ as he,ak as Se,S as ge,a$ as we,aw as Ee,o as V,f as k,z as H,n as l,b0 as X,v as W,aN as $,a0 as Q,g as d,w as f,x as F,b1 as Ie,b2 as xe,P as Z,C as ee,b3 as Te,b4 as Fe,aL as Y,p as re,a8 as ze,b5 as ke,b6 as Ae,b7 as le,a9 as Pe,t as Ce,k as v,J as Be,K as Ue,b8 as te,j as De,b9 as Le,i as $e,ah as Me,ai as Ke,l as Oe,E as je}from"./index-8e4d02bc.js";/* empty css             */import{E as Re,a as We}from"./form-item-095d7a10.js";const Ye=fe({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:be,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:s=>s===null||N(s)||["min","max"].includes(s),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:s=>s>=0&&s===Number.parseInt(`${s}`,10)},validateEvent:{type:Boolean,default:!0},..._e(["ariaLabel"])}),Ze={[ae]:(s,a)=>a!==s,blur:s=>s instanceof FocusEvent,focus:s=>s instanceof FocusEvent,[M]:s=>N(s)||z(s),[T]:s=>N(s)||z(s)},Ge=["aria-label","onKeydown"],Je=["aria-label","onKeydown"],qe=G({name:"ElInputNumber"}),He=G({...qe,props:Ye,emits:Ze,setup(s,{expose:a,emit:p}){const n=s,{t:m}=ve(),_=Ve("input-number"),S=ne(),r=ie({currentValue:n.modelValue,userInput:null}),{formItem:h}=ye(),A=w(()=>N(n.modelValue)&&n.modelValue<=n.min),E=w(()=>N(n.modelValue)&&n.modelValue>=n.max),K=w(()=>{const e=x(n.step);return L(n.precision)?Math.max(x(n.modelValue),e):(e>n.precision,n.precision)}),I=w(()=>n.controls&&n.controlsPosition==="right"),P=Ne(),g=he(),o=w(()=>{if(r.userInput!==null)return r.userInput;let e=r.currentValue;if(z(e))return"";if(N(e)){if(Number.isNaN(e))return"";L(n.precision)||(e=e.toFixed(n.precision))}return e}),C=(e,t)=>{if(L(t)&&(t=K.value),t===0)return Math.round(e);let i=String(e);const c=i.indexOf(".");if(c===-1||!i.replace(".","").split("")[c+t])return e;const U=i.length;return i.charAt(U-1)==="5"&&(i=`${i.slice(0,Math.max(0,U-1))}6`),Number.parseFloat(Number(i).toFixed(t))},x=e=>{if(z(e))return 0;const t=e.toString(),i=t.indexOf(".");let c=0;return i!==-1&&(c=t.length-i-1),c},J=(e,t=1)=>N(e)?C(e+n.step*t):r.currentValue,O=()=>{if(n.readonly||g.value||E.value)return;const e=Number(o.value)||0,t=J(e);B(t),p(M,r.currentValue),R()},j=()=>{if(n.readonly||g.value||A.value)return;const e=Number(o.value)||0,t=J(e,-1);B(t),p(M,r.currentValue),R()},q=(e,t)=>{const{max:i,min:c,step:u,precision:y,stepStrictly:U,valueOnClear:D}=n;i<c&&ke("InputNumber","min should not be greater than max.");let b=Number(e);if(z(e)||Number.isNaN(b))return null;if(e===""){if(D===null)return null;b=Ae(D)?{min:c,max:i}[D]:D}return U&&(b=C(Math.round(b/u)*u,y)),L(y)||(b=C(b,y)),(b>i||b<c)&&(b=b>i?i:c,t&&p(T,b)),b},B=(e,t=!0)=>{var i;const c=r.currentValue,u=q(e);if(!t){p(T,u);return}c===u&&e||(r.userInput=null,p(T,u),c!==u&&p(ae,u,c),n.validateEvent&&((i=h==null?void 0:h.validate)==null||i.call(h,"change").catch(y=>le())),r.currentValue=u)},se=e=>{r.userInput=e;const t=e===""?null:Number(e);p(M,t),B(t,!1)},oe=e=>{const t=e!==""?Number(e):"";(N(t)&&!Number.isNaN(t)||e==="")&&B(t),R(),r.userInput=null},ue=()=>{var e,t;(t=(e=S.value)==null?void 0:e.focus)==null||t.call(e)},de=()=>{var e,t;(t=(e=S.value)==null?void 0:e.blur)==null||t.call(e)},ce=e=>{p("focus",e)},me=e=>{var t;r.userInput=null,p("blur",e),n.validateEvent&&((t=h==null?void 0:h.validate)==null||t.call(h,"blur").catch(i=>le()))},R=()=>{r.currentValue!==n.modelValue&&(r.currentValue=n.modelValue)},pe=e=>{document.activeElement===e.target&&e.preventDefault()};return Se(()=>n.modelValue,(e,t)=>{const i=q(e,!0);r.userInput===null&&i!==t&&(r.currentValue=i)},{immediate:!0}),ge(()=>{var e;const{min:t,max:i,modelValue:c}=n,u=(e=S.value)==null?void 0:e.input;if(u.setAttribute("role","spinbutton"),Number.isFinite(i)?u.setAttribute("aria-valuemax",String(i)):u.removeAttribute("aria-valuemax"),Number.isFinite(t)?u.setAttribute("aria-valuemin",String(t)):u.removeAttribute("aria-valuemin"),u.setAttribute("aria-valuenow",r.currentValue||r.currentValue===0?String(r.currentValue):""),u.setAttribute("aria-disabled",String(g.value)),!N(c)&&c!=null){let y=Number(c);Number.isNaN(y)&&(y=null),p(T,y)}u.addEventListener("wheel",pe,{passive:!1})}),we(()=>{var e,t;const i=(e=S.value)==null?void 0:e.input;i==null||i.setAttribute("aria-valuenow",`${(t=r.currentValue)!=null?t:""}`)}),Ee({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},w(()=>!!n.label)),a({focus:ue,blur:de}),(e,t)=>(V(),k("div",{class:W([l(_).b(),l(_).m(l(P)),l(_).is("disabled",l(g)),l(_).is("without-controls",!e.controls),l(_).is("controls-right",l(I))]),onDragstart:t[0]||(t[0]=Y(()=>{},["prevent"]))},[e.controls?H((V(),k("span",{key:0,role:"button","aria-label":l(m)("el.inputNumber.decrease"),class:W([l(_).e("decrease"),l(_).is("disabled",l(A))]),onKeydown:$(j,["enter"])},[Q(e.$slots,"decrease-icon",{},()=>[d(l(Z),null,{default:f(()=>[l(I)?(V(),F(l(Ie),{key:0})):(V(),F(l(xe),{key:1}))]),_:1})])],42,Ge)),[[l(X),j]]):ee("v-if",!0),e.controls?H((V(),k("span",{key:1,role:"button","aria-label":l(m)("el.inputNumber.increase"),class:W([l(_).e("increase"),l(_).is("disabled",l(E))]),onKeydown:$(O,["enter"])},[Q(e.$slots,"increase-icon",{},()=>[d(l(Z),null,{default:f(()=>[l(I)?(V(),F(l(Te),{key:0})):(V(),F(l(Fe),{key:1}))]),_:1})])],42,Je)),[[l(X),O]]):ee("v-if",!0),d(l(re),{id:e.id,ref_key:"input",ref:S,type:"number",step:e.step,"model-value":l(o),placeholder:e.placeholder,readonly:e.readonly,disabled:l(g),size:l(P),max:e.max,min:e.min,name:e.name,"aria-label":e.label||e.ariaLabel,"validate-event":!1,onKeydown:[$(Y(O,["prevent"]),["up"]),$(Y(j,["prevent"]),["down"])],onBlur:me,onFocus:ce,onInput:se,onChange:oe},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var Xe=ze(He,[["__file","input-number.vue"]]);const Qe=Pe(Xe);const el={class:"app-container"},ll={class:"screenForm"},tl={class:"_flex"},al={style:{flex:"1","margin-right":"20px"}},nl=v("div",{class:"tipBox"},"基础使用",-1),il={style:{flex:"1"}},rl=v("div",{class:"tipBox"},"插槽使用",-1),sl=["src"],ol={class:"el-upload-list__item-actions"},ul=["onClick"],pl=G({__name:"index",setup(s){let a=ie({image:[{url:"http://www.aiiup.cn/uploads/20190821/1-1Z115223503326.jpg",name:"1-1Z115223503326.jpg"}],limit:1,fileType:0,fileSize:1,suffixStr:"jpg、jpeg、png",suffixArr:[{label:"图片",type:0},{label:"视频",type:1},{label:"文件",type:2}]});const p=ne(null);return Ce(()=>{console.log(p.value)}),(n,m)=>{const _=$e,S=Qe,r=Re,h=Me,A=Ke,E=re,K=We,I=Oe,P=Z,g=je;return V(),k("div",el,[d(g,{shadow:n.defaultData.cardShadow},{default:f(()=>[d(_),v("div",null,[d(K,{inline:!0,model:l(a)},{default:f(()=>[v("div",ll,[d(r,{label:"最大上传数量："},{default:f(()=>[d(S,{modelValue:l(a).limit,"onUpdate:modelValue":m[0]||(m[0]=o=>l(a).limit=o),placeholder:"请输入最大上传数量",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),d(r,{label:"上传类型："},{default:f(()=>[d(A,{modelValue:l(a).fileType,"onUpdate:modelValue":m[1]||(m[1]=o=>l(a).fileType=o),placeholder:"请选择",style:{width:"80%"}},{default:f(()=>[(V(!0),k(Be,null,Ue(l(a).suffixArr,o=>(V(),F(h,{key:o.type,label:o.label,value:o.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),d(r,{label:"最大上传文件大小（MB）："},{default:f(()=>[d(E,{modelValue:l(a).fileSize,"onUpdate:modelValue":m[2]||(m[2]=o=>l(a).fileSize=o),placeholder:"请输入最大上传文件大小",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),d(r,{label:"上传"+l(a).suffixArr[l(a).fileType].label+"类型（、）隔开："},{default:f(()=>[d(E,{modelValue:l(a).suffixStr,"onUpdate:modelValue":m[3]||(m[3]=o=>l(a).suffixStr=o),placeholder:"请输入上传"+l(a).suffixArr[l(a).fileType].label+"格式",style:{width:"80%"},clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])])]),_:1},8,["model"])]),v("div",tl,[v("div",al,[nl,d(te,{modelValue:l(a).image,"onUpdate:modelValue":m[4]||(m[4]=o=>l(a).image=o),limit:l(a).limit,fileType:l(a).fileType,fileSize:l(a).fileSize,suffixStr:l(a).suffixStr,tipLabel:"最大上传数量为"+l(a).limit+"，只能上传"+l(a).suffixStr+"，且文件大小不超过"+l(a).fileSize},null,8,["modelValue","limit","fileType","fileSize","suffixStr","tipLabel"])]),v("div",il,[rl,d(te,{ref_key:"uploadFileRef",ref:p,modelValue:l(a).image,"onUpdate:modelValue":m[5]||(m[5]=o=>l(a).image=o),limit:l(a).limit,fileType:l(a).fileType,fileSize:l(a).fileSize,suffixStr:l(a).suffixStr,tipLabel:"最大上传数量为"+l(a).limit+"，只能上传"+l(a).suffixStr+"，且文件大小不超过"+l(a).fileSize},{default:f(()=>[d(I,{type:"primary"},{default:f(()=>[De("上传")]),_:1})]),file:f(({file:o})=>[v("div",null,[v("img",{class:"el-upload-list__item-thumbnail",src:o.url,alt:""},null,8,sl),v("div",ol,[v("span",{class:"el-upload-list__item-delete",onClick:C=>{var x;return(x=p.value)==null?void 0:x.handleRemove(o)}},[d(P,null,{default:f(()=>[d(l(Le))]),_:1})],8,ul)])])]),_:1},8,["modelValue","limit","fileType","fileSize","suffixStr","tipLabel"])])])]),_:1},8,["shadow"])])}}});export{pl as default};
