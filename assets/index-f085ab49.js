import{_ as g,d as h,S as w,r as f,aj as S,t as V,N as C,o as y,f as v,k as n,a0 as E,a7 as T,s as x,g as r,w as c,v as k,j as $,l as F,V as I,E as B,Q as D,R as M}from"./index-234e01e2.js";const N=h({props:{modelValue:{type:String,default:""},slotStyle:{type:Object,default:()=>{}},height:{type:[String,Number],default:500},width:{type:[String,Number],default:500},plugins:{type:[String,Array],default:"lists fullscreen emoticons autosave image table wordcount emoticons"},toolbar:{type:[String,Array],default:"bold italic underline strikethrough restoredraft image fullscreen emoticons | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify|bullist numlist |outdent indent blockquote | undo redo | removeformat"},url:{required:!0,type:String,default:""},data:{type:Array,default:()=>[{key:"type",value:0}]}},emits:["update:modelValue"],setup(e,t){w(()=>{m(e.height)});let o=f(!1),a="vue-tinymce-"+ +new Date;S(()=>{o.value&&e.modelValue!=""&&V(()=>{window.tinymce.get(a).setContent(e.modelValue)})});function s(){t.emit("update:modelValue",window.tinymce.get(a).getContent())}function m(){var l;(l=window.tinymce)==null||l.init({selector:`#${a}`,branding:!1,language_url:{VITE_TIMEOUT:"10000",VITE_OUTPUT_DIR:"dist",VITE_BASE_URL:"https://peng-xiao-shuai-0902.github.io/vite-vue-admin/",VITE_MOCK:"true",BASE_URL:"/vite-vue-admin/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}==="production"?"/vite-vue-admin/static/zh_CN.js":"/static/zh_CN.js",language:"zh_CN",height:e.height,width:e.width,plugins:e.plugins,toolbar:e.toolbar,content_style:"div,p{margin:5px 0;}img{max-width:100%;}*::-webkit-scrollbar{width:6px;height:6px;background:transparent;}*::-webkit-scrollbar-thumb{border-radius: 3px;background: #bac3d9;}",images_upload_handler:(u,_,p)=>{let i=new FormData;i.append("file",u.blob(),u.filename()),e.data.forEach(d=>{i.append(d.key,d.value)}),C.post(e.url,i).then(d=>{d.data.code===200?_(d.data.data.url):p("上传失败")})},init_instance_callback:function(u){o.value=!0}})}return{tinymceId:a,hasInit:o,getContentFun:s}}}),j={class:"tinymce-editor"},R=["id"];function z(e,t,o,a,s,m){return y(),v("div",j,[n("textarea",{class:"tinymce-textarea",id:e.tinymceId},null,8,R),n("div",{onClick:t[0]||(t[0]=(...l)=>e.getContentFun&&e.getContentFun(...l)),style:T(e.slotStyle)},[E(e.$slots,"default")],4)])}const b=g(N,[["render",z]]),A=()=>x({url:"modules/richText"}),O=h({name:"ModulesRichText",components:{tinyMce:b},setup(){let e=f(""),t=f(null);o();function o(){A().then(s=>{e.value=s.data.data})}function a(){console.log("获取富文本数据",e.value)}return{myValue:e,getTinyMceFun:a,scroll:t}}});const U=e=>(D("data-v-5e174de8"),e=e(),M(),e),L={class:"app-container"},H={class:"operate-container"},q=U(()=>n("span",null,"富文本编辑器",-1)),P={class:"lineTinyBox"},J={class:"phoneBox"},K=["innerHTML"];function Q(e,t,o,a,s,m){const l=F,u=b,_=I,p=B;return y(),v("div",L,[r(p,{shadow:e.defaultData.cardShadow},{default:c(()=>[n("div",H,[n("div",null,[n("i",{class:k([e.defaultData.iconfont,"viteZJ-fuwenben"]),style:{"margin-right":"5px"}},null,2),q])]),n("div",P,[r(u,{width:"100%",modelValue:e.myValue,"onUpdate:modelValue":t[1]||(t[1]=i=>e.myValue=i),height:667,url:"图片路径",ref:"tinymce",slotStyle:{display:"flex",justifyContent:"center",padding:"10px 0 0"}},{default:c(()=>[r(l,{type:"primary",onClick:t[0]||(t[0]=i=>e.getTinyMceFun())},{default:c(()=>[$(" 确认 ")]),_:1})]),_:1},8,["modelValue"]),n("div",J,[r(_,{style:{height:"667px"},class:"vHtml",ref:"scroll"},{default:c(()=>[n("div",{innerHTML:e.myValue},null,8,K)]),_:1},512)])])]),_:1},8,["shadow"])])}const G=g(O,[["render",Q],["__scopeId","data-v-5e174de8"]]);export{G as default};
