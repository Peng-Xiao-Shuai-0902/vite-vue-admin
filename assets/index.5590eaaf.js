import{_ as q,d as _,G as C,y as F,Q as A,r,o as w,c as E,a as i,w as m,i as p,q as h,s as k}from"./vendor.8c3eb18c.js";function V(e,a){var o=new qq.maps.Marker({position:e,animation:qq.maps.MarkerAnimation.DOWN,animation:qq.maps.MarkerAnimation.BOUNCE,animation:qq.maps.MarkerAnimation.DROP,map:a,draggable:!0,visible:!0});return o}function b(e){qq.maps.event.addListener(e,"dragstart",function(a){e.setAnimation(qq.maps.MarkerAnimation.UP)})}function v(e,a,o,t){var u=new qq.maps.Geocoder;return new Promise(l=>{if(e){var s=new qq.maps.LatLng(a.lat,a.lng);u.setComplete(n=>{console.log(n),l(n),t.setCenter(n.detail.location),o.setPosition(n.detail.location)}),u.getAddress(s)}else u.getLocation(a),u.setComplete(n=>{l(n),t.setCenter(n.detail.location),o.setPosition(n.detail.location)})})}const y=_({name:"modulesMap",setup(){let e=C({value:{lat:"39.90923",lng:"116.397428"}}),a=F("\u4E2D\u56FD\u5317\u4EAC\u5E02\u5317\u4EAC\u5E02\u4E1C\u57CE\u533A\u897F\u957F\u5B89\u88571\u53F7"),o,t;A(()=>{let l=new qq.maps.LatLng(39.90923,116.397428);t=new qq.maps.Map(document.getElementById("container"),{zoom:8,center:l}),o=V(l,t),b(o),qq.maps.event.addListener(o,"dragend",function(){o.setAnimation(qq.maps.MarkerAnimation.DOWN),e.value=o.getPosition(),v(!0,e.value,o,t).then(s=>{a.value=s.detail.address,e.value=s.detail.location})})});function u(l,s){v(s,l,o,t).then(n=>{e.value=n.detail.location,a.value=n.detail.address})}return{address:a,location:e,addressChange:u}}}),B=e=>(h("data-v-03ea70c9"),e=e(),k(),e),M={class:"app-container"},D={class:"screenForm"},L={class:"grid grid-c-2"},$=B(()=>p("div",{id:"container",style:{height:"500px",width:"100%"}},null,-1));function P(e,a,o,t,u,l){const s=r("view-name"),n=r("el-input"),c=r("el-form-item"),g=r("el-form"),f=r("el-card");return w(),E("div",M,[i(f,{shadow:e.defaultData.cardShadow},{default:m(()=>[i(s),p("div",null,[i(g,{inline:!0,style:{"margin-bottom":"20px"}},{default:m(()=>[p("div",D,[i(c,{label:"\u5730\u5740\uFF1A",style:{width:"380px"}},{default:m(()=>[i(n,{modelValue:e.address,"onUpdate:modelValue":a[0]||(a[0]=d=>e.address=d),placeholder:"\u8BF7\u8F93\u5165\u5730\u5740",style:{width:"300px"},clearable:"",onChange:a[1]||(a[1]=d=>e.addressChange(e.address,!1))},null,8,["modelValue"])]),_:1}),i(c,{label:"\u7ECF\u7EAC\u5EA6\uFF1A",prop:"types"},{default:m(()=>[p("div",L,[i(n,{modelValue:e.location.value.lng,"onUpdate:modelValue":a[2]||(a[2]=d=>e.location.value.lng=d),placeholder:"\u8BF7\u8F93\u5165\u7ECF\u5EA6",clearable:"",onChange:a[3]||(a[3]=d=>e.addressChange(e.location.value,!0))},null,8,["modelValue"]),i(n,{modelValue:e.location.value.lat,"onUpdate:modelValue":a[4]||(a[4]=d=>e.location.value.lat=d),placeholder:"\u8BF7\u8F93\u5165\u7EAC\u5EA6",clearable:"",onChange:a[5]||(a[5]=d=>e.addressChange(e.location.value,!0))},null,8,["modelValue"])])]),_:1})])]),_:1}),$])]),_:1},8,["shadow"])])}var N=q(y,[["render",P],["__scopeId","data-v-03ea70c9"]]);export{N as default};
