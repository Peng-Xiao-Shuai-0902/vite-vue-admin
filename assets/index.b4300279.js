import{s as e}from"./index.de99b198.js";import{_ as t,r as s,o as a,l as i,w as l,a as d,i as r,t as n,q as o,s as u,L as m}from"./vendor.28d90a97.js";const p={courierType:"",systemName:"",expeditedPrice:"",expeditedTime:"",weChatAppId:"",weChatMchId:"",weChatMchKey:"",weChatSecret:"",commentOvertime:0,introduction:0,servicePhone:0,answerTotalCount:0,id:0,companyAddress:""},c=(e,t,s)=>{if(!t)return s(new Error("时间不能为空"));let a=parseInt(t);if(!Number.isInteger(a))return s(new Error("请输入数字值"));s()},g={name:"config",data:()=>({textAreaVal:0,row:10,maxLength:200,isDisabled1:!0,isDisabled2:!0,isDisabled3:!0,isDisabled4:!0,isDisabled5:!0,isDisabled6:!0,systemSetting:Object.assign({},p),rules:{answerTotalCount:{validator:c,trigger:"blur"},companyAddress:{validator:c,trigger:"blur"},introduction:{validator:c,trigger:"blur"},servicePhone:{validator:c,trigger:"blur"},commentOvertime:{validator:c,trigger:"blur"},courierType:{required:!0,message:"请填写信息",trigger:"blur"},systemName:{required:!0,message:"请填写信息",trigger:"blur"},weChatAppId:{required:!0,message:"请填写信息",trigger:"blur"},weChatMchId:{required:!0,message:"请填写信息",trigger:"blur"},weChatMchKey:{required:!0,message:"请填写信息",trigger:"blur"},weChatSecret:{required:!0,message:"请填写信息",trigger:"blur"}}}),computed:{valueLength(){return console.log(),""===(e=this.textAreaVal)||null==e?0:this.textAreaVal.length;var e}},created(){this.getDetail()},methods:{handleInputChange(){this.textAreaVal=this.systemSetting.introduction.length,this.systemSetting.introduction=this.systemSetting.introduction.substring(0,this.maxLength),this.$emit("change",this.systemSetting.introduction)},updateStatus(e){switch(e){case"1":this.isDisabled1=!this.isDisabled1;break;case"2":this.isDisabled2=!this.isDisabled2;break;case"3":this.isDisabled3=!this.isDisabled3;break;case"4":this.isDisabled4=!this.isDisabled4;break;case"5":this.isDisabled5=!this.isDisabled5;break;case"6":this.isDisabled6=!this.isDisabled6}},confirm(t){this.$refs[t].validate((t=>{if(!t)return this.$message({message:"请完善系统数据信息",type:"warning"}),!1;this.$confirm("是否要提交修改?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{var t;(t=this.systemSetting,e({url:"system/config/setting",method:"post",data:t})).then((e=>{this.$message({type:"success",message:"提交成功!",duration:1e3})}))}))}))},getDetail(){e({url:"system/config/list/settings"}).then((e=>{this.systemSetting=e.data}))}}},h=e=>(o("data-v-b0871ac0"),e=e(),u(),e),y=h((()=>r("div",{class:"tip",style:{"margin-top":"10px"}},"系统设置栏",-1))),b=h((()=>r("div",{class:"tip",style:{"margin-top":"10px"}},"阿里云短信设置栏",-1))),S=m("修改"),f=m("修改"),w=m("修改"),V=m("修改"),C=h((()=>r("div",{class:"tip",style:{"margin-top":"10px"}},"微信小程序设置栏",-1))),x=m("修改"),D=m("修改"),v=h((()=>r("div",{class:"tip",style:{"margin-top":"10px"}},"公司信息设置栏",-1))),_={class:"remain-word"},I=m("提交");var A=t(g,[["render",function(e,t,o,u,m,p){const c=s("el-input"),g=s("el-form-item"),h=s("el-button"),A=s("el-form"),k=s("el-card");return a(),i(k,{shadow:e.defaultData.cardShadow},{default:l((()=>[d(A,{model:m.systemSetting,ref:"orderSettingForm",rules:m.rules,"label-width":"200px"},{default:l((()=>[y,d(g,{label:"系统名字：",prop:"systemName"},{default:l((()=>[d(c,{modelValue:m.systemSetting.systemName,"onUpdate:modelValue":t[0]||(t[0]=e=>m.systemSetting.systemName=e),class:"input-width"},null,8,["modelValue"])])),_:1}),b,d(g,{label:"阿里云短信签名：",prop:"weChatMchId"},{default:l((()=>[d(c,{modelValue:m.systemSetting.smSignName,"onUpdate:modelValue":t[1]||(t[1]=e=>m.systemSetting.smSignName=e),class:"input-width",disabled:m.isDisabled1},null,8,["modelValue","disabled"]),d(h,{style:{"margin-left":"20px"},onClick:t[2]||(t[2]=e=>p.updateStatus("1")),type:"primary"},{default:l((()=>[S])),_:1})])),_:1}),d(g,{label:"阿里云短信模板id：",prop:"weChatMchKey"},{default:l((()=>[d(c,{modelValue:m.systemSetting.smTemplateId,"onUpdate:modelValue":t[3]||(t[3]=e=>m.systemSetting.smTemplateId=e),class:"input-width",disabled:m.isDisabled2},null,8,["modelValue","disabled"]),d(h,{style:{"margin-left":"20px"},onClick:t[4]||(t[4]=e=>p.updateStatus("2")),type:"primary"},{default:l((()=>[f])),_:1})])),_:1}),d(g,{label:"阿里云accessKeyId：",prop:"weChatMchId"},{default:l((()=>[d(c,{modelValue:m.systemSetting.accessKeyId,"onUpdate:modelValue":t[5]||(t[5]=e=>m.systemSetting.accessKeyId=e),class:"input-width",disabled:m.isDisabled3},null,8,["modelValue","disabled"]),d(h,{style:{"margin-left":"20px"},onClick:t[6]||(t[6]=e=>p.updateStatus("3")),type:"primary"},{default:l((()=>[w])),_:1})])),_:1}),d(g,{label:"阿里云accessKeySecret：",prop:"weChatMchKey"},{default:l((()=>[d(c,{modelValue:m.systemSetting.accessKeySecret,"onUpdate:modelValue":t[7]||(t[7]=e=>m.systemSetting.accessKeySecret=e),class:"input-width",disabled:m.isDisabled4},null,8,["modelValue","disabled"]),d(h,{style:{"margin-left":"20px"},onClick:t[8]||(t[8]=e=>p.updateStatus("4")),type:"primary"},{default:l((()=>[V])),_:1})])),_:1}),C,d(g,{label:"微信AppId：",prop:"weChatAppId"},{default:l((()=>[d(c,{modelValue:m.systemSetting.weChatAppId,"onUpdate:modelValue":t[9]||(t[9]=e=>m.systemSetting.weChatAppId=e),class:"input-width",disabled:m.isDisabled5},null,8,["modelValue","disabled"]),d(h,{style:{"margin-left":"20px"},onClick:t[10]||(t[10]=e=>p.updateStatus("5")),type:"primary"},{default:l((()=>[x])),_:1})])),_:1}),d(g,{label:"微信secret：",prop:"weChatSecret"},{default:l((()=>[d(c,{modelValue:m.systemSetting.weChatSecret,"onUpdate:modelValue":t[11]||(t[11]=e=>m.systemSetting.weChatSecret=e),class:"input-width",disabled:m.isDisabled6},null,8,["modelValue","disabled"]),d(h,{style:{"margin-left":"20px"},onClick:t[12]||(t[12]=e=>p.updateStatus("6")),type:"primary"},{default:l((()=>[D])),_:1})])),_:1}),v,d(g,{label:"公司地址："},{default:l((()=>[d(c,{modelValue:m.systemSetting.companyAddress,"onUpdate:modelValue":t[13]||(t[13]=e=>m.systemSetting.companyAddress=e),class:"input-width"},null,8,["modelValue"])])),_:1}),d(g,{label:"公司地址："},{default:l((()=>[d(c,{modelValue:m.systemSetting.servicePhone,"onUpdate:modelValue":t[14]||(t[14]=e=>m.systemSetting.servicePhone=e),class:"input-width"},null,8,["modelValue"])])),_:1}),d(g,{label:"公司简介："},{default:l((()=>[d(c,{modelValue:m.systemSetting.introduction,"onUpdate:modelValue":t[15]||(t[15]=e=>m.systemSetting.introduction=e),type:"textarea",class:"input-width text-area",clearable:"",rows:m.row,onInput:p.handleInputChange},null,8,["modelValue","rows","onInput"]),r("span",_,n(m.textAreaVal)+"/"+n(m.maxLength),1)])),_:1}),d(g,null,{default:l((()=>[d(h,{onClick:t[16]||(t[16]=e=>p.confirm("orderSettingForm")),type:"primary"},{default:l((()=>[I])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["shadow"])}],["__scopeId","data-v-b0871ac0"]]);export default A;
