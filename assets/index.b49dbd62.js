import{i as e,e as a,L as t}from"./index.91677402.js";import{d as o,_ as l,r as i,o as n,c as s,i as r,F as d,g as c,l as m,w as h,t as p,h as u,n as v,u as y,J as f,E as g,a as w,L as b,q as x,s as S}from"./vendor.28d90a97.js";import{s as D}from"./index.de99b198.js";const k=o({props:{count:{type:Object,default:{}},height:{type:[Number,String],default:50}},components:{}}),C={style:{"margin-bottom":"20px"}},_={class:"warp"},I={class:"text"},E={class:"num"};const P={class:""},L=["id"];let F=[{label:"姓名",props:[{prop:"name"}]},{label:"头像",width:"80px",props:[{type:"image",prop:"head",data:{preview:!0,style:{width:"40px",height:"40px",borderRadius:"50%"}}}]},{label:"性别",width:"60px",props:[{prop:"gender"}]},{label:"内容",props:[{prop:"content"}]},{label:"时间",props:[{prop:"date"}]},{label:"状态",props:[{prop:"status",type:"tag",data:{effect:"dark",color:e=>"提交失败"==e?"#F56C6C":"#67C23A"}}]}];const A=o({name:"home",components:{HomeEcharts:a,PanelGroup:l(k,[["render",function(e,a,t,o,l,y){const f=i("el-card");return n(),s("div",C,[r("div",{class:"grid",style:v({height:e.height+"px"})},[(n(!0),s(d,null,c(e.count,((a,t)=>(n(),m(f,{key:a.value,class:u(["card-panel","item"+t]),shadow:e.defaultData.cardShadow,"body-style":{background:a.color,padding:"10px",height:e.height+"px",boxSizing:"border-box"}},{default:h((()=>[r("div",_,[r("div",I,p(e.t(a.locale)),1),r("div",E,p(a.value||0),1)]),r("div",{class:u(["icon-people",e.defaultData.iconfont,a.icon])},null,2)])),_:2},1032,["class","shadow","body-style"])))),128))],4)])}],["__scopeId","data-v-349dc6b8"]]),lineBarEcharts:l({props:{echartsId:String,dataECharts:Object,title:String},data:()=>({}),mounted(){},watch:{dataECharts:{deep:!0,immediate:!0,handler(e){console.log(e),this.drawChart(this.dataECharts)}}},mounted(){},methods:{drawChart(a){var t=this.$refs.chart;if(t){let o=e(t),l={tooltip:{trigger:"axis"},legend:{data:a.series.map((e=>e.name))},grid:{left:"5%",right:"3%"},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:a.xAxisData},yAxis:{type:"value",axisLabel:{formatter:"{value} 元"}},series:[{name:a.series[0].name,type:"line",data:a.series[0].data,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{color:"#5bd1db"},lineStyle:{width:3},markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c} 元"},symbol:"none",data:[{type:"average",name:"平均值"}]}},{name:a.series[1].name,type:"line",data:a.series[1].data,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{color:"#00ef09"},lineStyle:{width:3},markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c} 元"},symbol:"none",data:[{type:"average",name:"平均值"}]}},{name:a.series[2].name,type:"line",data:a.series[2].data,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{color:"#EB5252"},lineStyle:{width:3},markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c} 元"},symbol:"none",data:[{type:"average",name:"平均值"}]}},{name:a.series[3].name,type:"line",data:a.series[3].data,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{color:"#C8B2F4"},lineStyle:{width:3},markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c} 元"},symbol:"none",data:[{type:"average",name:"平均值"}]}},{name:a.series[4].name,type:"line",data:a.series[4].data,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{color:"#FFCB8C"},lineStyle:{width:3},markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c} 元"},symbol:"none",data:[{type:"average",name:"平均值"}]}}]};o.setOption(l)}}}},[["render",function(e,a,t,o,l,i){return n(),s("div",P,[r("div",{id:t.echartsId,ref:"chart",style:{width:"100%",height:"250px"}},null,8,L)])}]])},setup(){const e=[{opacity:.4,color:new t(0,0,0,1,[{offset:0,color:y().state.settings.themeColor.primary},{offset:1,color:"rgba(255, 255, 255,0)"}])},{opacity:.4,color:new t(0,0,0,1,[{offset:0,color:"#55bcff"},{offset:1,color:"rgba(255, 255, 255,0)"}])}],a=[y().state.settings.themeColor.primary,"#55bcff","#F6A829","#646cff"];let o=f([{icon:"vitehome-user",title:"用户",value:"",locale:"user",key:"users",color:y().state.settings.themeColor.primary},{icon:"vitehome-wengzhang",title:"文章",value:"",locale:"article",key:"shoppings",color:"#55bcff"},{icon:"vitehome-liulanliang",title:"浏览量",value:"",locale:"page.view",key:"pageview",color:"#646cff "},{icon:"vitehome-done",title:"已提交",value:"",key:"done",locale:"commit",color:"#F6A829 "}]),l=f({value:{}}),i=f({value:{}}),n=f({value:[]}),s=g(0),r=f({value:{dayMoney:"",dayPercentage:"",totalMoney:"",totalPercentage:""},chart:{}}),d=f({pageSize:3,pageNum:1}),c=f({value:[]}),m=f(F),h=g("Seven");function p(t,o="Seven"){var i;h.value=o,n.value=[],(i={status:t,period:o},D({url:"home/chart",params:i})).then((t=>{t.data.homeDateInfoResult.forEach(((t,o)=>{t.areaStyle=e[o],n.value.push({name:t.name,color:a[o]})})),l.value=t.data}))}function u(e){var a;Object.assign(d,e||{}),(a=d,D({url:"home/table",params:a})).then((e=>{c.value=e.data.list}))}return u(),D({url:"home/count"}).then((e=>{o.forEach((a=>{a.value=e.data[a.key]}))})),p(0),D({url:"home/pageviewChart"}).then((e=>{i.value=e.data})),D({url:"home/earnings"}).then((a=>{r.value=a.data.money,a.data.chart.homeDateInfoResult.forEach(((a,t)=>{a.areaStyle=e[t]})),r.chart=a.data.chart})),{count:o,chart:l,pageviewData:i,earnings:r,colors:a,list:c,tbConfig:m,current:s,userLineColor:n,findTime:h,handleGetTable:u,typeSwitch:function(e){s.value=e,p(e)},command:function(e){p(s.value,e)}}}}),j={class:"grid"},B={class:"eachDiv eachDiv1"},M={class:"typeSwitch"},z=["onClick"],O={class:"lineColor"},G={class:"timeDropdown"},T={class:"el-dropdown-link"},R=(e=>(x("data-v-e317ca5a"),e=e(),S(),e))((()=>r("i",{class:"el-icon-arrow-down el-icon--right"},null,-1))),H=b("Month"),N=b("Fifteen"),q=b("Seven"),J={class:"eachDiv eachDiv2"},V={class:"moneyGrid"},Z={class:"viteIconBg"},$={class:"text"},K={class:"money"},Q={class:"title"},U={class:"increase"},W={class:"el-icon-top",style:{color:"var(--color-primary)"}},X={class:"viteIconBg yellow"},Y={class:"text"},ee={class:"money"},ae={class:"title"},te={class:"increase"},oe={class:"el-icon-top",style:{color:"var(--color-primary)"}},le={class:"eachDiv eachDiv3"},ie={class:"echartsBox"},ne={class:"un-handle-layout"},se={class:"eachDiv eachDiv4"},re={style:{margin:"0 0 10px 0",display:"flex","justify-content":"space-between"}};var de=l(A,[["render",function(e,a,t,o,l,m){const y=i("panel-group"),f=i("el-dropdown-item"),g=i("el-dropdown-menu"),x=i("el-dropdown"),S=i("HomeEcharts"),D=i("el-card"),k=i("powerful-table"),C=i("el-scrollbar");return n(),s("div",null,[r("div",j,[r("div",B,[w(y,{count:e.count,height:90},null,8,["count"]),w(D,{shadow:e.defaultData.cardShadow},{default:h((()=>[w(S,{isSlot:!0,echartsId:"chart",height:400,colors:e.colors,information:e.chart.value,title:e.t("user.login.line"),types:"line"},{default:h((()=>[r("div",M,[(n(!0),s(d,null,c(e.count,((a,t)=>(n(),s("div",{key:"switch"+t,style:v({background:e.current==t?"var(--color-primary)":"",transition:"all .2s"}),class:u({"s-active":e.current==t}),onClick:a=>e.typeSwitch(t)},p(e.t(a.locale)),15,z)))),128))])])),lineColor:h((()=>[r("div",O,[(n(!0),s(d,null,c(e.userLineColor.value,(e=>(n(),s("div",{key:e.color},[r("i",{style:v({background:e.color})},null,4),r("span",null,p(e.name),1)])))),128))])])),timeSwiper:h((()=>[r("div",G,[w(x,{onCommand:e.command},{dropdown:h((()=>[w(g,null,{default:h((()=>[w(f,{command:"Month"},{default:h((()=>[H])),_:1}),w(f,{command:"Fifteen"},{default:h((()=>[N])),_:1}),w(f,{command:"Seven"},{default:h((()=>[q])),_:1})])),_:1})])),default:h((()=>[r("span",T,[b(p(e.findTime),1),R])])),_:1},8,["onCommand"])])])),_:1},8,["colors","information","title"])])),_:1},8,["shadow"])]),r("div",J,[r("div",V,[w(D,{shadow:e.defaultData.cardShadow,class:"eachDiv"},{default:h((()=>[r("div",Z,[r("i",{class:u([e.defaultData.iconfont,"vitehome-daymoney"])},null,2)]),r("div",$,[r("div",K,"￥"+p(e.earnings.value.dayMoney),1),r("span",Q,p(e.t("day.income")),1)]),r("div",U,[r("i",W,p(e.earnings.value.dayPercentage)+"%",1)])])),_:1},8,["shadow"]),w(D,{shadow:e.defaultData.cardShadow,class:"eachDiv"},{default:h((()=>[r("div",X,[r("i",{class:u([e.defaultData.iconfont,"vitehome-zongshouyi"])},null,2)]),r("div",Y,[r("div",ee,"￥"+p(e.earnings.value.totalMoney),1),r("span",ae,p(e.t("total.income")),1)]),r("div",te,[r("i",oe,p(e.earnings.value.totalPercentage)+"%",1)])])),_:1},8,["shadow"]),w(D,{shadow:e.defaultData.cardShadow,"body-style":{padding:"20px"},class:"eachDiv eachDiv-3"},{default:h((()=>[w(S,{echartsId:"earnings",height:320,colors:e.colors,information:e.earnings.chart,types:"line",title:e.t("income.line")},null,8,["colors","information","title"])])),_:1},8,["shadow"])])]),r("div",le,[w(D,{shadow:e.defaultData.cardShadow},{default:h((()=>[r("div",ie,[r("div",ne,[w(S,{echartsId:"pageviewData",height:270,colors:e.colors,information:e.pageviewData.value,types:"homeCake",title:e.t("page.view.pillar")},null,8,["colors","information","title"])])])])),_:1},8,["shadow"])]),r("div",se,[w(D,{shadow:e.defaultData.cardShadow},{default:h((()=>[r("h3",re,[r("span",null,p(e.t("commit.list")),1)]),w(C,{style:{height:"calc(100% - 40px)",width:"100%","box-sizing":"border-box"}},{default:h((()=>[w(k,{isSelect:!1,isPagination:!1,list:e.list.value,header:e.tbConfig},null,8,["list","header"])])),_:1})])),_:1},8,["shadow"])])])])}],["__scopeId","data-v-e317ca5a"]]);export default de;
