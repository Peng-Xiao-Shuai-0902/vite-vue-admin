import{s as C}from"./index.c2af6703.js";import{d as g,ad as x,y,af as k,Q as S,U as V,_ as v,o as b,c as w,i as n,O as $,n as F,r as c,a as m,w as f,h as T,q as B,s as D,I as E}from"./vendor.8c3eb18c.js";function I(){return C({url:"modules/richText"})}const N=g({emits:["update:modelValue"],props:{modelValue:{type:String,default:""},slotStyle:{type:Object,default:()=>{}},height:{type:[String,Number],default:500},width:{type:[String,Number],default:500},plugins:{type:[String,Array],default:"lists fullscreen emoticons autosave image table wordcount emoticons"},toolbar:{type:[String,Array],default:"bold italic underline strikethrough restoredraft image fullscreen emoticons | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify|bullist numlist |outdent indent blockquote | undo redo | removeformat"},url:{required:!0,type:String,default:""},data:{type:Array,default:()=>[{key:"type",value:0}]}},setup(e,t){x(()=>{p(e.height)});let o=e.plugins,i=e.toolbar,a=y(!1),l="vue-tinymce-"+ +new Date;k(()=>{a.value&&e.modelValue!=""&&S(()=>{window.tinymce.get(l).setContent(e.modelValue)})});function s(){t.emit("update:modelValue",window.tinymce.get(l).getContent())}function p(){window.tinymce.init({selector:`#${l}`,branding:!1,language_url:"/static/zh_CN.js",language:"zh_CN",height:e.height,width:e.width,plugins:o,toolbar:i,content_style:"div,p{margin:5px 0;}img{max-width:100%;}*::-webkit-scrollbar{width:6px;height:6px;background:transparent;}*::-webkit-scrollbar-thumb{border-radius: 3px;background: #bac3d9;}",images_upload_handler:(u,_,r)=>{let h=new FormData;h.append("file",u.blob(),u.filename()),e.data.forEach(d=>{h.append(d.key,d.value)}),V.post(e.url,h).then(d=>{d.data.code===200?_(d.data.data.url):r("\u4E0A\u4F20\u5931\u8D25")})},init_instance_callback:function(u){a.value=!0}})}return{tinymceId:l,hasInit:a,getContentFun:s}}}),j={class:"tinymce-editor"},M=["id"];function z(e,t,o,i,a,l){return b(),w("div",j,[n("textarea",{class:"tinymce-textarea",id:e.tinymceId},null,8,M),n("div",{onClick:t[0]||(t[0]=(...s)=>e.getContentFun&&e.getContentFun(...s)),style:F(e.slotStyle)},[$(e.$slots,"default")],4)])}var A=v(N,[["render",z]]);const q=g({name:"modulesRichText",components:{tinyMce:A},setup(){let e=y(""),t=y(null);o();function o(){I().then(a=>{e.value=a.data})}function i(){console.log("\u83B7\u53D6\u5BCC\u6587\u672C\u6570\u636E",e.value)}return{myValue:e,getTinyMceFun:i,scroll:t}}}),H=e=>(B("data-v-2d914d92"),e=e(),D(),e),L={class:"app-container"},O={class:"operate-container"},U=H(()=>n("span",null,"\u5BCC\u6587\u672C\u7F16\u8F91\u5668",-1)),J={class:"lineTinyBox"},Q=E(" \u786E\u8BA4 "),R={class:"phoneBox"},Z=["innerHTML"];function G(e,t,o,i,a,l){const s=c("el-button"),p=c("tiny-mce"),u=c("el-scrollbar"),_=c("el-card");return b(),w("div",L,[m(_,{shadow:e.defaultData.cardShadow},{default:f(()=>[n("div",O,[n("div",null,[n("i",{class:T([e.defaultData.iconfont,"viteZJ-fuwenben"]),style:{"margin-right":"5px"}},null,2),U])]),n("div",J,[m(p,{width:"100%",modelValue:e.myValue,"onUpdate:modelValue":t[1]||(t[1]=r=>e.myValue=r),height:667,url:"\u56FE\u7247\u8DEF\u5F84",ref:"tinymce",slotStyle:{display:"flex",justifyContent:"center",padding:"10px 0 0"}},{default:f(()=>[m(s,{type:"primary",onClick:t[0]||(t[0]=r=>e.getTinyMceFun())},{default:f(()=>[Q]),_:1})]),_:1},8,["modelValue"]),n("div",R,[m(u,{style:{height:"667px"},class:"vHtml",ref:"scroll"},{default:f(()=>[n("div",{innerHTML:e.myValue},null,8,Z)]),_:1},512)])])]),_:1},8,["shadow"])])}var W=v(q,[["render",G],["__scopeId","data-v-2d914d92"]]);export{W as default};
